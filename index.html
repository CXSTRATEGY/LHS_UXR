<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î°ØÎç∞ÌôàÏáºÌïë "ÌòúÌÉù" Îß§Ïû• Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞</title>
    <style>
        /* Í∏∞Î≥∏ Î¶¨ÏÖã Î∞è Ï†ÑÏó≠ ÏÑ§Ï†ï */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }
        
        /* Cross-browser Ìè∞Ìä∏ ÏµúÏ†ÅÌôî */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', 'Apple SD Gothic Neo', Roboto, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            background-attachment: fixed;
            background-size: cover;
            min-height: 100vh; 
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Ïª®ÌÖåÏù¥ÎÑà Ìï¥ÏÉÅÎèÑÎ≥Ñ ÏµúÏ†ÅÌôî */
        .container { 
            width: 100%;
            max-width: 1400px; 
            min-width: 320px;
            margin: 0 auto; 
            padding: 10px; 
            min-height: 100vh;
        }
        
        /* 1920√ó1080 ÏµúÏ†ÅÌôî */
        @media screen and (min-width: 1920px) {
            .container {
                max-width: 1600px;
                padding: 20px;
            }
            .admin-grid {
                grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
                gap: 40px;
                padding: 40px;
            }
        }
        
        /* Í≥†Ìï¥ÏÉÅÎèÑ ÎåÄÏùë (2560√ó1440, 3440√ó1440) */
        @media screen and (min-width: 2560px) {
            .container {
                max-width: 2000px;
                padding: 30px;
            }
            .admin-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 50px;
                padding: 50px;
            }
            .sorting-workspace {
                gap: 50px;
                padding: 50px;
            }
            .groups-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 30px;
            }
        }
        
        /* Ï†ÄÌï¥ÏÉÅÎèÑ ÎåÄÏùë (1366√ó768, 1024√ó768) */
        @media screen and (max-width: 1366px) {
            .container {
                padding: 5px;
            }
            .sorting-workspace {
                grid-template-columns: 250px 1fr;
                gap: 20px;
                padding: 20px;
            }
            .admin-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px;
            }
        }
        
        @media screen and (max-width: 1024px) {
            .sorting-workspace {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 15px;
            }
            .groups-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
        }
        
        /* Cross-browser flexbox Ìò∏ÌôòÏÑ± */
        .card { 
            background: white; 
            border-radius: 12px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            overflow: hidden;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
        }
        
        .page { 
            display: none; 
            -webkit-animation: fadeIn 0.3s ease-in;
            -moz-animation: fadeIn 0.3s ease-in;
            animation: fadeIn 0.3s ease-in;
        }
        
        .page.active { display: block; }
        
        @-webkit-keyframes fadeIn { 
            from { opacity: 0; -webkit-transform: translateY(20px); } 
            to { opacity: 1; -webkit-transform: translateY(0); } 
        }
        
        @-moz-keyframes fadeIn { 
            from { opacity: 0; -moz-transform: translateY(20px); } 
            to { opacity: 1; -moz-transform: translateY(0); } 
        }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        .header { 
            background: white; 
            padding: 20px 30px; 
            border-bottom: 1px solid #eee; 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-pack: justify;
            -webkit-justify-content: space-between;
            -moz-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
        }
        
        .logo { font-size: 24px; font-weight: bold; color: #333; }
        
        .nav-buttons { 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            gap: 10px; 
        }
        
        .form-group { margin: 20px 0; }
        .form-label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        .form-control { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid #e1e5e9; 
            border-radius: 8px; 
            font-size: 16px; 
            -webkit-transition: border-color 0.3s;
            -moz-transition: border-color 0.3s;
            transition: border-color 0.3s;
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
        }
        
        .form-control:focus { 
            outline: none; 
            border-color: #667eea; 
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            -webkit-box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            -moz-box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .textarea { 
            min-height: 120px; 
            resize: vertical; 
            font-family: inherit; 
        }
        
        .btn { 
            padding: 12px 24px; 
            border: none; 
            border-radius: 8px; 
            font-size: 16px; 
            font-weight: 600; 
            cursor: pointer; 
            -webkit-transition: all 0.3s;
            -moz-transition: all 0.3s;
            transition: all 0.3s; 
            text-decoration: none; 
            display: inline-block; 
            text-align: center;
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
        }
        
        .btn-primary { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
        }
        
        .btn-primary:hover { 
            -webkit-transform: translateY(-2px);
            -moz-transform: translateY(-2px);
            transform: translateY(-2px); 
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
            -webkit-box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
            -moz-box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary { 
            background: #f8f9fa; 
            color: #495057; 
            border: 1px solid #dee2e6; 
        }
        
        .btn-secondary:hover { background: #e9ecef; }
        
        .btn-danger { background: #e74c3c; color: white; }
        .btn-danger:hover { background: #c0392b; }
        
        .login-container { 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            min-height: 100vh; 
            padding: 20px; 
        }
        
        .login-box { 
            background: white; 
            padding: 40px; 
            border-radius: 12px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            width: 100%; 
            max-width: 400px;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
            -webkit-box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            -moz-box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .login-title { 
            text-align: center; 
            font-size: 20px;
            font-weight: bold; 
            color: #333; 
            margin-bottom: 10px; 
            line-height: 1.3;
        }
        
        .login-subtitle { text-align: center; color: #666; margin-bottom: 30px; }
        .admin-grid { 
            display: -ms-grid;
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            -ms-grid-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px; 
            padding: 30px; 
        }
        
        .admin-section { 
            background: #f8f9fa; 
            padding: 25px; 
            border-radius: 12px; 
            border: 1px solid #e9ecef;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
        }
        
        .admin-section h3 { color: #333; margin-bottom: 20px; font-size: 20px; }
        
        .stats-grid { 
            display: -ms-grid;
            display: grid; 
            grid-template-columns: repeat(2, 1fr);
            -ms-grid-columns: 1fr 15px 1fr;
            gap: 15px; 
            margin: 20px 0; 
        }
        
        .stat-card { 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            text-align: center; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
            -webkit-box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            -moz-box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .stat-number { font-size: 24px; font-weight: bold; color: #667eea; }
        .stat-label { font-size: 14px; color: #666; margin-top: 5px; }
        
        .sorting-header { 
            background: white; 
            padding: 20px 30px; 
            border-bottom: 1px solid #eee; 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-pack: justify;
            -webkit-justify-content: space-between;
            -moz-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            -webkit-flex-wrap: wrap;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap; 
            gap: 15px; 
        }
        
        .participant-info h2 { color: #333; font-size: 20px; }
        .participant-info p { color: #666; font-size: 14px; }
        
        .progress-section { 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -webkit-flex-direction: column;
            -moz-box-orient: vertical;
            -moz-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column; 
            -webkit-box-align: end;
            -webkit-align-items: flex-end;
            -moz-box-align: end;
            -ms-flex-align: end;
            align-items: flex-end; 
            min-width: 200px; 
        }
        
        .progress-container { width: 200px; }
        
        .progress-bar { 
            width: 100%; 
            height: 8px; 
            background: #e9ecef; 
            border-radius: 4px; 
            overflow: hidden;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
        }
        
        .progress-fill { 
            height: 100%; 
            background: linear-gradient(90deg, #667eea, #764ba2); 
            -webkit-transition: width 0.3s ease;
            -moz-transition: width 0.3s ease;
            transition: width 0.3s ease; 
        }
        
        .progress-text { text-align: center; font-size: 14px; color: #666; margin-top: 5px; }
        
        .sorting-workspace { 
            display: -ms-grid;
            display: grid; 
            grid-template-columns: 300px 1fr;
            -ms-grid-columns: 300px 30px 1fr;
            gap: 30px; 
            padding: 30px; 
            min-height: calc(100vh - 200px); 
        }
        
        /* ÎØ∏Î∂ÑÎ•ò Ïπ¥Îìú ÏòÅÏó≠ - ÎÖ∏ÎûÄÏÉâ ÌÖåÎßà */
        .card-pool { 
            background: #fff9e6; 
            border-radius: 12px; 
            padding: 20px; 
            border: 2px dashed #f0ad4e; 
            -webkit-transition: all 0.3s;
            -moz-transition: all 0.3s;
            transition: all 0.3s;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
        }
        
        .card-pool.drag-over { 
            border-color: #f0ad4e; 
            background: #fff3cd; 
            -webkit-transform: scale(1.02);
            -moz-transform: scale(1.02);
            transform: scale(1.02); 
        }
        
        .card-pool h3 { 
            color: #8a6d3b; 
            margin-bottom: 15px; 
            font-size: 18px; 
            font-weight: 600;
        }
        .card-list { max-height: 400px; overflow-y: auto; margin-bottom: 15px; }
        
        .card-item { 
            background: white; 
            padding: 12px 15px; 
            margin: 8px 0; 
            border-radius: 8px; 
            border: 1px solid #dee2e6; 
            cursor: move; 
            -webkit-transition: all 0.2s;
            -moz-transition: all 0.2s;
            transition: all 0.2s; 
            position: relative; 
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none; 
            font-size: 14px;
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
        }
        
        .card-item:hover { 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
            -webkit-transform: translateY(-2px);
            -moz-transform: translateY(-2px);
            transform: translateY(-2px);
            -webkit-box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            -moz-box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .card-item.dragging { 
            opacity: 0.5; 
            -webkit-transform: rotate(5deg);
            -moz-transform: rotate(5deg);
            transform: rotate(5deg); 
        }
        
        .card-item::after { 
            content: "‚ãÆ‚ãÆ"; 
            position: absolute; 
            right: 10px; 
            top: 50%; 
            -webkit-transform: translateY(-50%);
            -moz-transform: translateY(-50%);
            transform: translateY(-50%); 
            color: #adb5bd; 
            font-weight: bold; 
        }
        
        /* Í∑∏Î£π ÏòÅÏó≠ */
        .groups-area { background: white; }
        
        .groups-header { 
            padding: 20px; 
            border-bottom: 1px solid #eee; 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-pack: justify;
            -webkit-justify-content: space-between;
            -moz-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            -webkit-flex-wrap: wrap;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 1: ÏïàÎÇ¥Î¨∏ Ìè∞Ìä∏ ÌÅ¨Í∏∞ Ï¶ùÍ∞Ä */
        .group-order-guide {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 12px 20px;
            margin-bottom: 15px;
            font-size: 16px; /* 14pxÏóêÏÑú 16pxÎ°ú Ï¶ùÍ∞Ä */
            color: #1976d2;
            text-align: center;
            font-weight: 600;
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 4: Í∑∏Î£π ÏòÅÏó≠ Î†àÏù¥Î∏î Ï∂îÍ∞Ä */
        .groups-area-label {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            font-weight: 600;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 5: ÏïàÎÇ¥ÏÑú Î≤ÑÌäº ÎèôÏ†Å Î™®ÏÖò */
        .guide-btn-animated {
            animation: pulseGlow 2s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .guide-btn-animated::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shine 3s infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { 
                box-shadow: 0 0 5px rgba(102, 126, 234, 0.5);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 20px rgba(102, 126, 234, 0.8);
                transform: scale(1.05);
            }
        }
        
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .groups-container { 
            display: -ms-grid;
            display: grid; 
            grid-template-columns: repeat(3, 1fr);
            -ms-grid-columns: 1fr 20px 1fr 20px 1fr;
            gap: 20px; 
            max-height: 70vh; 
            overflow-y: auto; 
            padding: 20px; 
        }
        
        .group-container { 
            background: #f8f9fa; 
            border: 2px dashed #667eea; 
            border-radius: 12px; 
            padding: 15px; 
            min-height: 200px; 
            -webkit-transition: all 0.3s;
            -moz-transition: all 0.3s;
            transition: all 0.3s;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
            position: relative;
        }
        
        .group-container.drag-over { 
            border-color: #28a745; 
            background: #f8fff8; 
            -webkit-transform: scale(1.02);
            -moz-transform: scale(1.02);
            transform: scale(1.02); 
        }
        
        /* Í∞úÏÑ†Îêú Í∑∏Î£π ÎìúÎûòÍ∑∏ Ìï∏Îì§ */
        .group-drag-handle {
            position: absolute;
            top: 8px;
            left: 8px;
            width: 24px;
            height: 24px;
            cursor: move;
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            opacity: 0.7;
            transition: all 0.2s;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }
        
        .group-container:hover .group-drag-handle {
            opacity: 1;
            background: rgba(102, 126, 234, 0.2);
            transform: scale(1.1);
        }
        
        .group-container.dragging-group {
            opacity: 0.7;
            transform: rotate(2deg);
            z-index: 1000;
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 2: Í∑∏Î£π ÏàúÏúÑÏôÄ Ïπ¥Îìú Ïàò Íµ¨Î∂Ñ Í∞úÏÑ† */
        .group-rank {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #667eea;
            color: white;
            border-radius: 20px;
            padding: 4px 8px;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .group-header { 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-pack: justify;
            -webkit-justify-content: space-between;
            -moz-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            margin-bottom: 15px; 
            padding-bottom: 10px; 
            border-bottom: 1px solid #dee2e6; 
            padding-top: 15px;
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 4: Í∑∏Î£π ÌÉÄÏù¥ÌãÄ ÏïûÏóê ÏïÑÏù¥ÏΩò Ï∂îÍ∞Ä */
        .group-title { 
            font-weight: 600; 
            color: #333; 
            -webkit-box-flex: 1;
            -webkit-flex: 1;
            -moz-box-flex: 1;
            -ms-flex: 1;
            flex: 1;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .group-title::before {
            content: "üìÅ";
            font-size: 16px;
        }
        
        .group-title.editable { 
            cursor: pointer; 
            padding: 4px 8px; 
            border-radius: 4px; 
            -webkit-transition: background 0.2s;
            -moz-transition: background 0.2s;
            transition: background 0.2s;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
        }
        
        .group-title.editable:hover { background: #e9ecef; }
        
        .group-meta { 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            gap: 10px; 
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 2: Ïπ¥Îìú Ïàò ÌëúÏãú Í∞úÏÑ† */
        .card-count { 
            background: #28a745; 
            color: white; 
            padding: 4px 8px; 
            border-radius: 12px; 
            font-size: 12px; 
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
        }
        
        .card-count::before {
            content: "üìã";
            font-size: 10px;
        }
        
        .delete-group-btn { 
            background: #e74c3c; 
            color: white; 
            border: none; 
            width: 24px; 
            height: 24px; 
            border-radius: 50%; 
            cursor: pointer; 
            font-size: 14px; 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
        }
        
        .group-content { min-height: 120px; }
        .empty-group { text-align: center; color: #adb5bd; padding: 40px 20px; font-style: italic; }
        .group-content .card-item { margin: 8px 0; }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 6: ÌäúÌÜ†Î¶¨Ïñº Ïä§ÌÉÄÏùº */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .tutorial-content {
            background: white;
            border-radius: 16px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            text-align: center;
            position: relative;
        }
        
        .tutorial-demo {
            position: relative;
            height: 200px;
            background: #f8f9fa;
            border-radius: 12px;
            margin: 20px 0;
            overflow: hidden;
            border: 2px solid #dee2e6;
        }
        
        .demo-card {
            position: absolute;
            background: #fff9e6;
            border: 1px solid #f0ad4e;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            cursor: move;
            transition: all 0.5s ease;
        }
        
        .demo-group {
            position: absolute;
            right: 20px;
            top: 20px;
            background: #f8f9fa;
            border: 2px dashed #667eea;
            border-radius: 12px;
            padding: 15px;
            width: 150px;
            height: 120px;
        }
        
        .demo-group-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        @keyframes cardMove {
            0% { left: 20px; top: 20px; }
            50% { left: 120px; top: 60px; transform: rotate(5deg) scale(1.1); }
            100% { left: 200px; top: 60px; transform: rotate(0deg) scale(1); }
        }
        
        .sorting-actions { 
            background: white; 
            padding: 20px 30px; 
            border-top: 1px solid #eee; 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center; 
            gap: 25px; 
            -webkit-flex-wrap: wrap;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap; 
        }
        
        .completion-container { text-align: center; padding: 60px 30px; }
        
        .completion-message { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            padding: 40px; 
            border-radius: 12px; 
            margin-bottom: 40px;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
        }
        
        .completion-message h2 { font-size: 32px; margin-bottom: 15px; }
        
        .completion-stats { 
            display: -ms-grid;
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            -ms-grid-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px; 
            margin: 30px 0; 
        }
        
        .hidden { display: none !important; }
        .text-center { text-align: center; }
        .mt-2 { margin-top: 10px; }
        .mt-3 { margin-top: 15px; }
        .mb-2 { margin-bottom: 10px; }
        .mb-3 { margin-bottom: 15px; }
        
        .flex { 
            display: -webkit-box !important;
            display: -webkit-flex !important;
            display: -moz-box !important;
            display: -ms-flexbox !important;
            display: flex !important; 
        }
        
        .flex-wrap { 
            -webkit-flex-wrap: wrap;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap; 
        }
        
        .gap-2 { gap: 10px; }
        .gap-3 { gap: 15px; }
        
        .justify-center { 
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center; 
        }
        
        .items-center { 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
        }
        
        .w-full { width: 100%; }
        
        .alert { 
            padding: 12px 16px; 
            border-radius: 8px; 
            margin: 15px 0; 
            border-left: 4px solid;
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
        }
        
        .alert-info { background: #e3f2fd; border-color: #2196f3; color: #1976d2; }
        .alert-warning { background: #fff3e0; border-color: #ff9800; color: #f57c00; }
        .alert-success { background: #e8f5e9; border-color: #4caf50; color: #388e3c; }
        
        .modal { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.5); 
            z-index: 1000; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center; 
        }
        
        .modal.show { 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
        }
        
        .modal-content { 
            background: white; 
            padding: 30px; 
            border-radius: 12px; 
            max-width: 500px; 
            width: 90%; 
            max-height: 80vh; 
            overflow-y: auto;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
        }
        
        /* ÏÉàÎ°ú Ï∂îÍ∞ÄÎêú Ïä§ÌÉÄÏùº */
        .welcome-container { text-align: center; padding: 60px 30px; }
        .welcome-message { background: white; padding: 40px; border-radius: 12px; margin-bottom: 30px; line-height: 1.8; }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 7: ÏÑ§Î¨∏ ÌéòÏù¥ÏßÄ UI ÏôÑÏ†Ñ Ïû¨ÏÑ§Í≥Ñ */
        .survey-container { 
            padding: 20px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .survey-header { 
            text-align: center; 
            margin-bottom: 20px; 
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #dee2e6;
            flex-shrink: 0;
        }
        
        .survey-header h2 { 
            color: #333; 
            font-size: 22px; 
            margin-bottom: 15px; 
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 7: ÏÉÅÎã® Í≥†Ï†ï ÏÑ†ÌÉù ÌòÑÌô© */
        .selected-cards-sticky {
            position: sticky;
            top: 0;
            background: white;
            z-index: 100;
            border-bottom: 2px solid #eee;
            padding: 15px 20px;
            margin: 0 -20px 20px -20px;
            flex-shrink: 0;
        }
        
        .selected-summary {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            max-height: 120px;
            overflow-y: auto;
        }
        
        .selected-column {
            border-radius: 8px;
            padding: 15px;
            border: 2px solid;
        }
        
        .selected-column.q1 {
            background: #e3f2fd;
            border-color: #2196f3;
        }
        
        .selected-column.q2 {
            background: #ffebee;
            border-color: #f44336;
        }
        
        .selected-column h4 {
            margin: 0 0 10px 0;
            font-size: 16px;
            font-weight: 600;
        }
        
        .selected-column.q1 h4 { color: #1976d2; }
        .selected-column.q2 h4 { color: #d32f2f; }
        
        .selected-list {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .selected-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            padding: 4px 8px;
            background: white;
            border-radius: 6px;
        }
        
        .selected-rank {
            background: currentColor;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 7: Ï¢åÏö∞ Î∂ÑÌï† ÏÑ§Î¨∏ ÏòÅÏó≠ */
        .survey-split {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            flex: 1;
            overflow: hidden;
        }
        
        .survey-question { 
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .survey-question-header {
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .survey-question.q1 .survey-question-header {
            background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
        }
        
        .survey-question.q2 .survey-question-header {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
        }
        
        .survey-question h3 { 
            color: white; 
            margin: 0; 
            font-size: 16px; 
            line-height: 1.4;
        }
        
        .card-selection-area { 
            background: #f8f9fa; 
            padding: 15px; 
            flex: 1;
            overflow-y: auto;
        }
        
        .selectable-card { 
            background: white; 
            padding: 10px 15px; 
            margin: 6px 0; 
            border-radius: 8px; 
            border: 2px solid #dee2e6; 
            cursor: pointer; 
            -webkit-transition: all 0.2s;
            -moz-transition: all 0.2s;
            transition: all 0.2s; 
            position: relative; 
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none; 
            font-size: 14px; 
            display: block;
            -webkit-border-radius: 8px;
            -moz-border-radius: 8px;
        }
        
        .selectable-card:hover { 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            -webkit-box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            -moz-box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .selectable-card.selected-q1 { 
            border-color: #2196f3; 
            background: #e3f2fd; 
            color: #1976d2;
        }
        .selectable-card.selected-q2 { 
            border-color: #f44336; 
            background: #ffebee; 
            color: #d32f2f;
        }
        
        .card-number { 
            position: absolute; 
            top: -8px; 
            right: -8px; 
            background: #fff; 
            border: 2px solid; 
            border-radius: 50%; 
            width: 24px; 
            height: 24px; 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center; 
            font-weight: bold; 
            font-size: 12px;
            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
        }
        
        .card-number.q1 { border-color: #2196f3; color: #2196f3; }
        .card-number.q2 { border-color: #f44336; color: #f44336; }
        
        .survey-question-footer {
            padding: 10px 20px;
            background: #f8f9fa;
            border-top: 1px solid #dee2e6;
            font-size: 14px;
            color: #666;
            text-align: center;
            flex-shrink: 0;
        }
        
        .checkbox-group { 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center; 
            gap: 10px; 
            margin: 15px 0; 
        }
        
        .checkbox-group input[type="checkbox"] { margin: 0; }
        
        /* Í∑∏Î£πÎ≥Ñ Ïπ¥Îìú ÌëúÏãúÎ•º ÏúÑÌïú ÏÉàÎ°úÏö¥ Ïä§ÌÉÄÏùº */
        .group-section { 
            background: #f8f9fa; 
            border-radius: 12px; 
            margin: 10px 0; 
            border: 1px solid #dee2e6;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
        }
        
        .group-section-header { 
            background: #667eea; 
            color: white; 
            padding: 10px 15px; 
            border-radius: 12px 12px 0 0; 
            cursor: pointer; 
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex; 
            -webkit-box-pack: justify;
            -webkit-justify-content: space-between;
            -moz-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between; 
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            -webkit-border-radius: 12px 12px 0 0;
            -moz-border-radius: 12px 12px 0 0;
        }
        
        .group-section-header:hover { background: #5a6fd8; }
        .group-section-title { font-weight: 600; font-size: 14px; }
        
        .group-card-count { 
            background: rgba(255,255,255,0.2); 
            padding: 2px 8px; 
            border-radius: 10px; 
            font-size: 12px;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
        }
        
        .group-toggle { 
            font-size: 16px; 
            -webkit-transition: -webkit-transform 0.3s;
            -moz-transition: -moz-transform 0.3s;
            transition: transform 0.3s; 
        }
        
        .group-toggle.collapsed { 
            -webkit-transform: rotate(-90deg);
            -moz-transform: rotate(-90deg);
            transform: rotate(-90deg); 
        }
        
        .group-cards { padding: 15px; display: none; }
        .group-cards.expanded { display: block; }
        .group-cards .selectable-card { display: block; margin: 6px 0; }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 9&10: ÏùòÍ≤¨ ÏàòÏßë ÌéòÏù¥ÏßÄ Ïä§ÌÉÄÏùº Í∞úÏÑ† */
        .feedback-container { 
            padding: 30px; 
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: stretch; /* ÏàòÏ†ïÏÇ¨Ìï≠ 10: ÎÜíÏù¥ ÎèôÏùº */
            min-height: calc(100vh - 200px);
        }
        
        .feedback-header { 
            grid-column: 1 / -1;
            text-align: center; 
            margin-bottom: 30px; 
            background: #f8f9fa;
            padding: 30px;
            border-radius: 12px;
            border: 1px solid #dee2e6;
        }
        
        .feedback-header h2 { 
            color: #333; 
            font-size: 24px; 
            margin-bottom: 15px; 
        }
        
        .feedback-left {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #dee2e6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }
        
        .feedback-right {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #dee2e6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }
        
        .feedback-left h3 {
            color: #667eea;
            font-size: 18px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }
        
        .feedback-right h3 {
            color: #667eea;
            font-size: 18px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }
        
        .sorting-result-display {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .result-group {
            background: white;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #dee2e6;
        }
        
        .result-group-header {
            background: #667eea;
            color: white;
            padding: 10px 15px;
            font-weight: 600;
            font-size: 14px;
        }
        
        .result-group-cards {
            padding: 10px 15px;
        }
        
        .result-card {
            background: #f8f9fa;
            padding: 8px 12px;
            margin: 4px 0;
            border-radius: 6px;
            font-size: 13px;
            border-left: 3px solid #667eea;
        }
        
        /* ÏàòÏ†ïÏÇ¨Ìï≠ 9: ÌäπÎ≥ÑÌïú ÌÖçÏä§Ìä∏ ÏóêÎ¶¨Ïñ¥ */
        .feedback-textarea-container {
            position: relative;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .feedback-textarea { 
            flex: 1;
            resize: none;
            font-family: inherit;
            line-height: 1.6;
            font-size: 14px;
            background: transparent;
            z-index: 2;
            position: relative;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
        }
        
        .feedback-placeholder {
            position: absolute;
            top: 12px;
            left: 12px;
            right: 12px;
            bottom: 12px;
            font-size: 14px;
            line-height: 1.6;
            color: #999;
            font-style: italic;
            pointer-events: none;
            z-index: 1;
            white-space: pre-wrap;
            overflow: hidden;
        }
        
        .char-counter { 
            text-align: right; 
            font-size: 14px; 
            color: #666; 
            margin-top: 5px; 
            flex-shrink: 0;
        }
        .char-counter.warning { color: #f57c00; }
        .char-counter.danger { color: #e74c3c; }
        
        .feedback-actions {
            grid-column: 1 / -1;
            text-align: center;
            margin-top: 20px;
        }
        
        /* ÏïåÎ¶º Ïä§ÌÉÄÏùº Í∞úÏÑ† */
        .notification {
            position: fixed;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            max-width: 500px;
            padding: 20px 25px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            font-weight: 600;
            font-size: 16px;
            animation: slideInDown 0.3s ease-out;
            border: 2px solid;
        }
        
        @keyframes slideInDown {
            from { opacity: 0; transform: translateX(-50%) translateY(-30px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        
        /* Î™®Î∞îÏùº Î∞è ÌÉúÎ∏îÎ¶ø Î∞òÏùëÌòï */
        @media (max-width: 768px) { 
            .sorting-workspace { 
                grid-template-columns: 1fr; 
                -ms-grid-columns: 1fr;
                gap: 20px; 
                padding: 20px; 
            } 
            
            .admin-grid { 
                grid-template-columns: 1fr;
                -ms-grid-columns: 1fr;
                padding: 20px; 
            } 
            
            .groups-container { 
                grid-template-columns: 1fr;
                -ms-grid-columns: 1fr;
            } 
            
            .groups-header { 
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-flex-direction: column;
                -moz-box-orient: vertical;
                -moz-box-direction: normal;
                -ms-flex-direction: column;
                flex-direction: column; 
                gap: 10px; 
            } 
            
            .sorting-header { 
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-flex-direction: column;
                -moz-box-orient: vertical;
                -moz-box-direction: normal;
                -ms-flex-direction: column;
                flex-direction: column; 
                text-align: center; 
            } 
            
            .nav-buttons { 
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-flex-direction: column;
                -moz-box-orient: vertical;
                -moz-box-direction: normal;
                -ms-flex-direction: column;
                flex-direction: column; 
                width: 100%; 
            }
            
            .selectable-card { display: block; margin: 8px 0; }
            
            .survey-header { 
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-flex-direction: column;
                -moz-box-orient: vertical;
                -moz-box-direction: normal;
                -ms-flex-direction: column;
                flex-direction: column; 
                gap: 15px; 
                -webkit-box-align: center;
                -webkit-align-items: center;
                -moz-box-align: center;
                -ms-flex-align: center;
                align-items: center; 
            }
            
            .group-section-header { padding: 12px 15px; }
            .group-cards { padding: 15px; }
            
            .feedback-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .survey-split {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .selected-summary {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }
        
        /* IE11 Ìò∏ÌôòÏÑ± */
        @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
            .groups-container {
                display: -ms-grid;
                -ms-grid-columns: 1fr 20px 1fr 20px 1fr;
            }
            
            .admin-grid {
                display: -ms-grid;
                -ms-grid-columns: 1fr 30px 1fr;
            }
            
            .stats-grid {
                display: -ms-grid;
                -ms-grid-columns: 1fr 15px 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ï∞∏Ïó¨Ïûê ÌôòÏòÅ ÌéòÏù¥ÏßÄ -->
        <div id="welcome-page" class="page">
            <div class="welcome-container">
                <div class="welcome-message">
                    <h1 style="color: #333; margin-bottom: 30px;">ÏïàÎÖïÌïòÏÑ∏Ïöî!</h1>
                    <p style="margin-bottom: 20px;">Î°ØÎç∞ÌôàÏáºÌïë Ïò®ÎùºÏù∏ Î¶¨ÏÑúÏπòÏóê Ï∞∏Ïó¨Ìï¥Ï£ºÏÖîÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§.</p>
                    <p style="margin-bottom: 20px;">Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞Îäî ÏïΩ 10Î∂Ñ ÎÇ¥Ïô∏Ïùò ÏãúÍ∞ÑÏù¥ ÏÜåÏöîÎê©ÎãàÎã§.</p>
                    <p style="margin-bottom: 20px;">ÌïòÎã®Ïùò 'Î¶¨ÏÑúÏπò Ï∞∏Ïó¨ÌïòÍ∏∞' Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Ïã† ÌõÑ Í∏∞Î≥∏ Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÏãúÎ©¥, Î¶¨ÏÑúÏπò Ï∞∏Ïó¨Í∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§.</p>
                    <p style="font-weight: 600;">Ïπ¥Îìú Î∂ÑÎ•òÎ•º ÏôÑÎ£åÌïòÏã† ÌõÑÏóêÎäî "ÏùëÎãµ Ï†úÏ∂úÌïòÍ∏∞" Î≤ÑÌäºÏùÑ Íº≠ ÎàåÎü¨Ï£ºÏãúÍ∏∏ Î∞îÎûçÎãàÎã§.</p>
                </div>
                <button class="btn btn-primary" style="font-size: 18px; padding: 15px 30px;" onclick="showParticipantLogin()">
                    Î¶¨ÏÑúÏπò Ï∞∏Ïó¨ÌïòÍ∏∞
                </button>
            </div>
        </div>

        <!-- Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ -->
        <div id="admin-login-page" class="page">
            <div class="login-container">
                <div class="login-box">
                    <h1 class="login-title">Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏</h1>
                    <p class="login-subtitle">Í¥ÄÎ¶¨Ïûê Ï†ÑÏö© ÌéòÏù¥ÏßÄÏûÖÎãàÎã§</p>
                    
                    <form onsubmit="adminLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Í¥ÄÎ¶¨Ïûê ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                            <input 
                                type="password" 
                                id="admin-password" 
                                class="form-control" 
                                placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                                required
                            >
                        </div>
                        
                        <button type="submit" class="btn btn-primary w-full">
                            Î°úÍ∑∏Ïù∏
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú -->
        <div id="admin-dashboard-page" class="page">
            <div class="card">
                <div class="header">
                    <div class="logo">Ïπ¥ÎìúÏÜåÌåÖ Í¥ÄÎ¶¨Ïûê (Google Sheets Ïó∞Îèô)</div>
                    <div class="nav-buttons">
                        <button class="btn btn-danger" onclick="adminLogout()">Î°úÍ∑∏ÏïÑÏõÉ</button>
                    </div>
                </div>

                <div class="admin-grid">
                    <div class="admin-section">
                        <h3>üéØ ÌîÑÎ°úÏ†ùÌä∏ ÏÑ§Ï†ï</h3>
                        
                        <div class="form-group">
                            <label class="form-label">ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©</label>
                            <input 
                                type="text" 
                                id="project-title" 
                                class="form-control" 
                                value="ÌòúÌÉù ÏΩòÌÖêÏ∏† Ïπ¥ÎìúÏÜåÌåÖ"
                                placeholder="ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                            >
                        </div>

                        <div class="form-group">
                            <label class="form-label">ÏÜåÌåÖ Î∞©Ïãù</label>
                            <select id="sorting-type" class="form-control">
                                <option value="open">Ïò§Ìîà ÏÜåÌåÖ (Í∑∏Î£π ÏûêÏú† ÏÉùÏÑ±)</option>
                                <option value="closed">ÌÅ¥Î°úÏ¶àÎìú ÏÜåÌåÖ (Í≥†Ï†ï Í∑∏Î£πÎßå)</option>
                                <option value="hybrid" selected>ÌïòÏù¥Î∏åÎ¶¨Îìú ÏÜåÌåÖ (Í∏∞Î≥∏ + ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±)</option>
                            </select>
                        </div>

                        <div class="form-group" id="predefined-groups-section">
                            <label class="form-label">Í∏∞Î≥∏ Í∑∏Î£π (ÌÅ¥Î°úÏ¶àÎìú/ÌïòÏù¥Î∏åÎ¶¨Îìú Ï†ÑÏö©)</label>
                            <textarea 
                                id="predefined-groups" 
                                class="form-control textarea" 
                                placeholder="Ìïú Ï§ÑÏóê ÌïòÎÇòÏî© ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                            >Íµ¨Îß§ÌòúÌÉù
Ï∞∏Ïó¨ÌòúÌÉù
Ïπ¥Îìú/Í≤∞Ï†úÌòúÌÉù</textarea>
                        </div>

                        <div class="checkbox-group">
                            <input type="checkbox" id="shuffle-cards" checked>
                            <label for="shuffle-cards">Ïπ¥Îìú ÏàúÏÑú Î¨¥ÏûëÏúÑ ÏÑûÍ∏∞</label>
                        </div>

                        <div class="checkbox-group">
                            <input type="checkbox" id="allow-edit-groups" checked>
                            <label for="allow-edit-groups">Í∏∞Î≥∏ Í∑∏Î£πÎ™Ö ÏàòÏ†ï ÌóàÏö©</label>
                        </div>
                    </div>

                    <div class="admin-section">
                        <h3>üÉè Ïπ¥Îìú Î™©Î°ù Í¥ÄÎ¶¨</h3>
                        
                        <div class="form-group">
                            <label class="form-label">Ïπ¥Îìú Î™©Î°ù (ÏµúÎåÄ 100Í∞ú)</label>
                            <textarea 
                                id="card-list" 
                                class="form-control textarea" 
                                placeholder="Ìïú Ï§ÑÏóê ÌïòÎÇòÏî© ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                                style="min-height: 200px;"
                            >Î∞©ÏÜ° ÏïåÎ¶º Ïã†Ï≤≠ÌïòÍ≥† Ï†ÅÎ¶ΩÍ∏à Î∞õÍ∏∞
Î©§Î≤ÑÏã≠ Í∞ÄÏûÖÌïòÍ≥† Ìï†Ïù∏ Ïø†Ìè∞ Î∞õÍ∏∞
Î∞©ÏÜ° Ï±ÑÌåÖ ÎÇ®Í∏∞Í≥† Ï†ÅÎ¶ΩÍ∏à Î∞õÍ∏∞
ÏπúÍµ¨ Ï∂îÏ≤úÌïòÍ≥† Ìè¨Ïù∏Ìä∏ Î∞õÍ∏∞
Ï≤´ Íµ¨Îß§ ÌõÑ Ï∫êÏãúÎ∞± Î∞õÍ∏∞
Î¶¨Î∑∞ ÏûëÏÑ±ÌïòÍ≥† Ï†ÅÎ¶ΩÍ∏à Î∞õÍ∏∞
ÏÉùÏùº Ïø†Ìè∞ Î∞õÍ∏∞
Îì±Í∏âÎ≥Ñ Ìï†Ïù∏ ÌòúÌÉù
Î¨¥Î£åÎ∞∞ÏÜ° ÌòúÌÉù
Ï†ÅÎ¶ΩÍ∏à ÌòúÌÉù</textarea>
                        </div>

                        <div class="flex gap-2">
                            <input 
                                type="text" 
                                id="new-card" 
                                class="form-control" 
                                placeholder="ÏÉà Ïπ¥Îìú Ï∂îÍ∞Ä"
                                style="flex: 1;"
                            >
                            <button class="btn btn-secondary" onclick="addNewCard()">Ï∂îÍ∞Ä</button>
                        </div>

                        <div class="alert alert-info mt-2">
                            <strong>ÌòÑÏû¨ Ïπ¥Îìú Ïàò:</strong> <span id="card-count">10</span>Í∞ú
                        </div>
                    </div>

                    <div class="admin-section">
                        <h3>üîó Google Sheets ÏÑ§Ï†ï</h3>
                        
                        <div class="form-group">
                            <label class="form-label">ÏõπÏï± URL</label>
                            <input 
                                type="text" 
                                id="webapp-url" 
                                class="form-control" 
                                placeholder="https://script.google.com/macros/s/AKfycbwbNhV4IPL0qb36bgelyKi2SYqjQY7OFDZ-Mh3WWn3zKaKG2du-5vG_pazf1QfyQNnILg/exec"
                                value="https://script.google.com/macros/s/AKfycbwbNhV4IPL0qb36bgelyKi2SYqjQY7OFDZ-Mh3WWn3zKaKG2du-5vG_pazf1QfyQNnILg/exec"
                            >
                        </div>

                        <div class="form-group">
                            <label class="form-label">Ïä§ÌîÑÎ†àÎìúÏãúÌä∏ ID</label>
                            <input 
                                type="text" 
                                id="spreadsheet-id" 
                                class="form-control" 
                                placeholder="1V9iTiBnesG9TRTHzohpAyC0358xzQVn2j9qQuVaj8FY"
                                value="1V9iTiBnesG9TRTHzohpAyC0358xzQVn2j9qQuVaj8FY"
                            >
                        </div>

                        <button class="btn btn-primary w-full mb-3" onclick="testConnection()">
                            üîó Ïó∞Í≤∞ ÌÖåÏä§Ìä∏
                        </button>

                        <div id="connection-status" class="alert alert-info">
                            <strong>Ïó∞Í≤∞ ÏÉÅÌÉú:</strong> ÌÖåÏä§Ìä∏Î•º Ïã§ÌñâÌï¥Ï£ºÏÑ∏Ïöî
                        </div>
                    </div>

                    <div class="admin-section">
                        <h3>üîó ÏùëÎãµÏûê URL ÏÉùÏÑ±</h3>
                        
                        <button class="btn btn-primary w-full mb-3" onclick="generateURL()">
                            ÌîÑÎ°úÏ†ùÌä∏ Ï†ÄÏû• Î∞è URL ÏÉùÏÑ±
                        </button>

                        <div id="generated-url-section" class="hidden">
                            <div class="form-group">
                                <label class="form-label">ÏÉùÏÑ±Îêú ÏùëÎãµÏûê URL</label>
                                <div style="position: relative;">
                                    <input 
                                        type="text" 
                                        id="generated-url" 
                                        class="form-control" 
                                        readonly
                                        style="padding-right: 60px;"
                                    >
                                    <button 
                                        class="btn btn-secondary" 
                                        onclick="copyURL()"
                                        style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%); padding: 5px 10px; font-size: 12px;"
                                    >
                                        Î≥µÏÇ¨
                                    </button>
                                </div>
                            </div>

                            <div class="flex gap-2 mt-2">
                                <button class="btn btn-secondary" onclick="openParticipantURL()">üë§ ÏùëÎãµÏûê ÌéòÏù¥ÏßÄ</button>
                                <button class="btn btn-secondary" onclick="openGoogleSheets()">üìä Google Sheets Ïó¥Í∏∞</button>
                            </div>
                        </div>
                    </div>

                    <div class="admin-section">
                        <h3>üìä ÏùëÎãµ ÌòÑÌô©</h3>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number" id="total-responses">0</div>
                                <div class="stat-label">Ï¥ù ÏùëÎãµ Ïàò</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="completed-responses">0</div>
                                <div class="stat-label">ÏôÑÎ£åÎêú ÏùëÎãµ</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="ongoing-responses">0</div>
                                <div class="stat-label">ÏßÑÌñâ Ï§ë</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="avg-duration">0Î∂Ñ</div>
                                <div class="stat-label">ÌèâÍ∑† ÏÜåÏöîÏãúÍ∞Ñ</div>
                            </div>
                        </div>

                        <div class="flex gap-2 mt-3">
                            <button class="btn btn-primary" onclick="downloadAllResponses()" style="flex: 1;">
                                üì• JSON Îã§Ïö¥Î°úÎìú
                            </button>
                            <button class="btn btn-secondary" onclick="openGoogleSheets()">
                                üìä Google Sheets
                            </button>
                            <button class="btn btn-secondary" onclick="clearAllData()">
                                üóëÔ∏è Ï¥àÍ∏∞Ìôî
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÏùëÎãµÏûê Î°úÍ∑∏Ïù∏ -->
        <div id="participant-login-page" class="page">
            <div class="login-container">
                <div class="login-box">
                    <h1 class="login-title" id="participant-project-title">Ï∞∏Ïó¨Ïûê Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</h1>
                    
                    <form onsubmit="participantLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Ïù¥Î¶Ñ</label>
                            <input 
                                type="text" 
                                id="participant-name" 
                                class="form-control" 
                                placeholder="ÌôçÍ∏∏Îèô"
                                pattern="[Í∞Ä-Ìû£]+"
                                title="ÌïúÍ∏ÄÎßå ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label class="form-label">Ìú¥ÎåÄÌè∞ Îí∑Î≤àÌò∏ 4ÏûêÎ¶¨</label>
                            <input 
                                type="text" 
                                id="participant-phone" 
                                class="form-control" 
                                placeholder="1234"
                                pattern="[0-9]{4}"
                                maxlength="4"
                                title="Ïà´Ïûê 4ÏûêÎ¶¨Îßå ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                                required
                            >
                        </div>
                        
                        <button type="submit" class="btn btn-primary w-full">
                            ÏãúÏûëÌïòÍ∏∞
                        </button>
                    </form>

                    <div id="existing-response-notice" class="alert alert-warning mt-3 hidden">
                        <strong>‚ö†Ô∏è Í∏∞Ï°¥ ÏùëÎãµ Î∞úÍ≤¨</strong><br>
                        Ïù¥Ï†ÑÏóê ÏßÑÌñâÌïòÎçò ÏùëÎãµÏù¥ ÏûàÏäµÎãàÎã§. Ïù¥Ïñ¥ÏÑú ÏßÑÌñâÌïòÏãúÍ≤†ÏäµÎãàÍπå?
                        <div class="flex gap-2 mt-2">
                            <button class="btn btn-secondary" onclick="continueExisting()">Ïù¥Ïñ¥ÏÑú ÌïòÍ∏∞</button>
                            <button class="btn btn-danger" onclick="startNew()">ÏÉàÎ°ú ÏãúÏûë</button>
                        </div>
                    </div>

                    <div class="alert alert-success mt-3">
                        <strong>üìã Ï∞∏Ïó¨ ÏïàÎÇ¥:</strong><br>
                        ‚Ä¢ ÏòàÏÉÅ ÏÜåÏöîÏãúÍ∞Ñ: ÏïΩ 10Î∂Ñ<br>
                        ‚Ä¢ Ïù¥Ïñ¥ÏßÄÎäî ÌôîÎ©¥ÏóêÏÑú 'Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ ÏïàÎÇ¥ÏÑú'Í∞Ä Ï†úÍ≥µÎê©ÎãàÎã§<br>
                    </div>

                    <div class="text-center mt-3">
                        <button class="btn btn-secondary" onclick="showWelcomePage()">
                            ‚Üê ÎèåÏïÑÍ∞ÄÍ∏∞
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ïπ¥ÎìúÏÜåÌåÖ Î©îÏù∏ ÌôîÎ©¥ -->
        <div id="sorting-page" class="page">
            <div class="card">
                <div class="sorting-header">
                    <div class="participant-info">
                        <h2 id="sorting-participant-name">Ï∞∏Ïó¨ÏûêÎãòÏùò Ïπ¥ÎìúÏÜåÌåÖ</h2>
                        <p id="sorting-type-info">ÌïòÏù¥Î∏åÎ¶¨Îìú ÏÜåÌåÖ ÏßÑÌñâ Ï§ë</p>
                    </div>
                    <div class="progress-section">
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill" style="width: 0%;"></div>
                            </div>
                            <div class="progress-text" id="progress-text">
                                ÏßÑÌñâ ÏÉÅÌô©ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sorting-workspace">
                    <div class="card-pool">
                        <h3>üÉè ÎØ∏Î∂ÑÎ•ò Ïπ¥Îìú (<span id="unassigned-count">0</span>Í∞ú)</h3>
                        <div class="card-list" id="card-pool"></div>
                    </div>

                    <div class="groups-area">
                        <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 4: Í∑∏Î£π ÏòÅÏó≠ Î†àÏù¥Î∏î Ï∂îÍ∞Ä -->
                        <div class="groups-area-label">
                            <span>üìÅ</span>
                            <span>Í∑∏Î£π ÏòÅÏó≠</span>
                        </div>
                        
                        <div class="groups-header">
                            <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 5: ÎèôÏ†Å Î™®ÏÖò Ï†ÅÏö© -->
                            <button 
                                class="btn btn-secondary guide-btn-animated" 
                                onclick="showSortingGuide()"
                            >
                                üìñ Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ ÏïàÎÇ¥ÏÑú
                            </button>
                            <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 6: ÌäúÌÜ†Î¶¨Ïñº Î≤ÑÌäº Ï∂îÍ∞Ä -->
                            <button 
                                class="btn btn-secondary" 
                                onclick="showTutorial()"
                            >
                                üéØ ÌäúÌÜ†Î¶¨Ïñº Î≥¥Í∏∞
                            </button>
                            <button 
                                class="btn btn-secondary" 
                                id="create-group-btn" 
                                onclick="createNewGroup()"
                            >
                                ‚ûï ÏÉà Í∑∏Î£π ÎßåÎì§Í∏∞
                            </button>
                        </div>
                        
                        <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 1: ÏïàÎÇ¥Î¨∏ Ìè∞Ìä∏ ÌÅ¨Í∏∞ Ï¶ùÍ∞Ä -->
                        <div class="group-order-guide">
                            üí° Ï§ëÏöîÌïòÎã§Í≥† ÏÉùÍ∞ÅÌïòÏãúÎäî Í∑∏Î£πÏàúÏúºÎ°ú Î∞∞Ïó¥Ìï¥Î≥¥ÏÑ∏Ïöî! Í∑∏Î£π Ï†úÎ™©ÏùÑ ÎìúÎûòÍ∑∏Ìï¥ÏÑú ÏàúÏÑúÎ•º Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÏñ¥Ïöî.
                        </div>
                        
                        <div class="groups-container" id="groups-container"></div>
                    </div>
                </div>

                <div class="sorting-actions">
                    <button class="btn btn-secondary" onclick="returnToLogin()">
                        ‚Üê Î°úÍ∑∏Ïù∏ÏúºÎ°ú
                    </button>
                    <button class="btn btn-secondary" onclick="resetAllCards()">
                        üîÑ Ï†ÑÏ≤¥ Ï¥àÍ∏∞Ìôî
                    </button>
                    <button class="btn btn-secondary" onclick="autoSave()">
                        üíæ ÏûÑÏãú Ï†ÄÏû•
                    </button>
                    <button class="btn btn-primary" onclick="submitSorting()" id="submit-btn">
                        ‚úÖ ÏùëÎãµ Ï†úÏ∂úÌïòÍ∏∞
                    </button>
                </div>
            </div>
        </div>

        <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 7: ÏôÑÏ†Ñ Ïû¨ÏÑ§Í≥ÑÎêú ÏÑ§Î¨∏ ÏùëÎãµ ÌéòÏù¥ÏßÄ -->
        <div id="survey-page" class="page">
            <div class="card">
                <div class="survey-container">
                    <div class="survey-header">
                        <h2>ÏôÄ! Ï†ïÎßê Î©ãÏßÑ Ïπ¥ÎìúÎ∂ÑÎ•òÍ∞Ä ÏôÑÏÑ±ÎêòÏóàÎäîÎç∞Ïöî! Î™áÍ∞ÄÏßÄÎßå ÏßàÎ¨∏ ÎìúÎ¶¥Í≤åÏöî!</h2>
                    </div>

                    <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 7: ÏÉÅÎã® Í≥†Ï†ï ÏÑ†ÌÉù ÌòÑÌô© -->
                    <div class="selected-cards-sticky">
                        <div class="selected-summary">
                            <div class="selected-column q1">
                                <h4>üîµ Í∞ÄÏû• ÎßéÏù¥ ÏÇ¨Ïö© (ÏÑ†ÌÉù: <span id="q1-count">0</span>/3)</h4>
                                <div class="selected-list" id="q1-selected-list"></div>
                            </div>
                            <div class="selected-column q2">
                                <h4>üî¥ Í∞ÄÏû• Ï†ÅÍ≤å ÏÇ¨Ïö© (ÏÑ†ÌÉù: <span id="q2-count">0</span>/3)</h4>
                                <div class="selected-list" id="q2-selected-list"></div>
                            </div>
                        </div>
                    </div>

                    <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 7: Ï¢åÏö∞ Î∂ÑÌï† ÏÑ§Î¨∏ ÏòÅÏó≠ -->
                    <div class="survey-split">
                        <div class="survey-question q1">
                            <div class="survey-question-header">
                                <h3>ÏßàÎ¨∏1. ÌòúÌÉù Îß§Ïû•ÏóêÏÑú Í∞ÄÏû• ÎßéÏù¥ ÏÇ¨Ïö©(Ï∞∏Ïó¨)ÌïòÍ≥† Í≥ÑÏã† Í≤ÉÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?<br>ÏàúÏÑúÎåÄÎ°ú 3Í∞úÎßå Í≥®ÎùºÏ£ºÏÑ∏Ïöî.</h3>
                            </div>
                            <div class="card-selection-area">
                                <div id="q1-groups">
                                    <!-- Í∑∏Î£πÎ≥Ñ Ïπ¥ÎìúÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                                </div>
                            </div>
                        </div>

                        <div class="survey-question q2">
                            <div class="survey-question-header">
                                <h3>ÏßàÎ¨∏2. ÌòúÌÉù Îß§Ïû•ÏóêÏÑú Í∞ÄÏû• ÏÇ¨Ïö©(Ï∞∏Ïó¨)ÌïòÏßÄ ÏïäÏúºÏãúÎäî Í≤ÉÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?<br>ÏàúÏÑúÎåÄÎ°ú 3Í∞úÎßå Í≥®ÎùºÏ£ºÏÑ∏Ïöî.</h3>
                            </div>
                            <div class="card-selection-area">
                                <div id="q2-groups">
                                    <!-- Í∑∏Î£πÎ≥Ñ Ïπ¥ÎìúÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-3" style="border-top: 1px solid #eee; padding-top: 20px;">
                        <div class="flex gap-3 justify-center">
                            <button class="btn btn-secondary" onclick="returnToSorting()">
                                ‚Üê Ïπ¥Îìú Î∂ÑÎ•òÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
                            </button>
                            <button class="btn btn-primary" onclick="submitSurvey()" id="survey-submit-btn" disabled>
                                ÏùëÎãµ Ï†úÏ∂úÌïòÍ∏∞
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 9&10: Í∞úÏÑ†Îêú ÏùòÍ≤¨ ÏàòÏßë ÌéòÏù¥ÏßÄ -->
        <div id="feedback-page" class="page">
            <div class="card">
                <div class="feedback-container">
                    <div class="feedback-header">
                        <h2>ÏàòÍ≥† ÎßéÏúºÏÖ®Ïñ¥Ïöî! Ïó¨Îü¨Î∂ÑÏùò Ï∞∏Ïó¨Îäî ÌÅ∞ ÎèÑÏõÄÏù¥ Îê† Í±∞ÏóêÏöî.</h2>
                        <p style="color: #666; font-size: 16px; margin-top: 10px;">ÎßàÏßÄÎßâÏúºÎ°ú ÏßÄÍ∏àÍπåÏßÄ 'Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞'Î•º ÏßÑÌñâÌïòÎ©¥ÏÑú ÎäêÎÇÄ Ï†êÏùÑ ÏûêÏú†Î°≠Í≤å Îì§Î†§Ï£ºÏÑ∏Ïöî!</p>
                    </div>

                    <div class="feedback-left">
                        <h3>Ïù¥Î†áÍ≤å ÏùëÎãµÌïòÏÖ®Ïñ¥Ïöî!</h3>
                        <div class="sorting-result-display" id="sorting-result-display">
                            <!-- Ï∞∏Ïó¨ÏûêÏùò Í∑∏Î£®Ìïë Í≤∞Í≥ºÍ∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>

                    <div class="feedback-right">
                        <h3>Ïñ¥Îñ§ ÏùòÍ≤¨Ïù¥Îì† ÎèÑÏõÄÏù¥ Îê†Í±∞ÏóêÏöî!</h3>
                        <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 9: ÌäπÎ≥ÑÌïú ÌÖçÏä§Ìä∏ ÏóêÎ¶¨Ïñ¥ -->
                        <div class="feedback-textarea-container">
                            <div class="feedback-placeholder" id="feedback-placeholder">Î¨¥ÏóáÏùÑ ÏûëÏÑ±Ìï¥ÏïºÌï†ÏßÄ Î™®Î•¥Í≤†Îã§Î©¥ Îã§Ïùå ÎÇ¥Ïö©Îì§ÏùÑ Ï∞∏Í≥†Ìï¥Ï£ºÏÖîÎèÑ Ï¢ãÏïÑÏöî : D
-'Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞'ÎùºÎäî Í≥ºÏ†ïÏùÑ Ï∞∏Ïó¨ÌïòÎ©¥ÏÑú ÎäêÎÇÄ Ï†ê!
-Ïπ¥ÎìúÎ•º Î∂ÑÎ•òÌï† Îïå, Ï§ëÏöîÌïòÍ≤å Ïã†Í≤ΩÏçºÎçò Ï†ê ÌòπÏùÄ Ïñ¥Î†§Ïõ†Îçò Ï†ê!
-Ïπ¥ÎìúÏùò Í∑∏Î£πÎ™ÖÏùÑ ÏàòÏ†ïÌïòÍ±∞ÎÇò Ï∂îÍ∞ÄÌïòÏÖ®Îã§Î©¥, Í∑∏ Ïù¥Ïú†!</div>
                            <textarea 
                                id="participant-feedback" 
                                class="form-control feedback-textarea" 
                                maxlength="2000"
                                oninput="updateCharCount(); updatePlaceholder()"
                            ></textarea>
                        </div>
                        <div class="char-counter" id="char-counter">0 / 2000Ïûê</div>
                    </div>

                    <div class="feedback-actions">
                        <div class="flex gap-3 justify-center">
                            <button class="btn btn-secondary" onclick="returnToSurvey()">
                                ‚Üê ÏÑ§Î¨∏ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
                            </button>
                            <button class="btn btn-primary" onclick="submitFeedback()">
                                ÏôÑÎ£åÌïòÍ∏∞
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÏôÑÎ£å ÌôîÎ©¥ -->
        <div id="completion-page" class="page">
            <div class="card">
                <div class="completion-container">
                    <div class="completion-message">
                        <h2>Î°ØÎç∞ÌôàÏáºÌïë ÌòúÌÉù Îß§Ïû•Ïùò Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ Î¶¨ÏÑúÏπòÏóê Ï∞∏Ïó¨Ìï¥Ï£ºÏÖîÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§.</h2>
                        <p>ÏùëÎãµÌï¥Ï£ºÏã† Í≤∞Í≥ºÎäî ÌòúÌÉù Îß§Ïû•Ïùò Î©îÎâ¥ Í∞úÏÑ†Ïóê ÌÅ¨Í≤å ÎèÑÏõÄÏù¥ Îê† Í±∞ÏòàÏöî : D</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ÏÉà Í∑∏Î£π ÏÉùÏÑ± Î™®Îã¨ -->
    <div id="create-group-modal" class="modal">
        <div class="modal-content">
            <h3>ÏÉà Í∑∏Î£π ÎßåÎì§Í∏∞</h3>
            <div class="form-group">
                <label class="form-label">Í∑∏Î£π Ïù¥Î¶Ñ</label>
                <input 
                    type="text" 
                    id="new-group-name" 
                    class="form-control" 
                    placeholder="Í∑∏Î£π Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                    maxlength="50"
                >
            </div>
            <div class="flex gap-2 justify-center">
                <button class="btn btn-secondary" onclick="closeModal('create-group-modal')">Ï∑®ÏÜå</button>
                <button class="btn btn-primary" onclick="confirmCreateGroup()">ÏÉùÏÑ±</button>
            </div>
        </div>
    </div>

    <!-- Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ Î∞©Î≤ï Í∞ÄÏù¥Îìú Î™®Îã¨ -->
    <div id="sorting-guide-modal" class="modal">
        <div class="modal-content">
            <h3>üìñ Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ ÏïàÎÇ¥ÏÑú</h3>
            <div style="padding: 20px 0; line-height: 1.8;">
                <p><strong>üîπ Ïπ¥Îìú ÎìúÎûòÍ∑∏ÌïòÍ∏∞:</strong> Ïπ¥ÎìúÎ•º ÌÅ¥Î¶≠Ìïú ÏÉÅÌÉúÎ°ú ÎÅåÏñ¥ÏÑú ÏõêÌïòÎäî Í∑∏Î£πÏóê ÎÜìÏúºÏÑ∏Ïöî.</p>
                <p><strong>üîπ Í∑∏Î£π Í∞Ñ Ïù¥Îèô:</strong> Ïù¥ÎØ∏ Î∂ÑÎ•òÎêú Ïπ¥ÎìúÎèÑ Îã§Î•∏ Í∑∏Î£πÏúºÎ°ú Ïù¥ÎèôÌï† Ïàò ÏûàÏñ¥Ïöî.</p>
                <p><strong>üîπ ÎØ∏Î∂ÑÎ•òÎ°ú ÎêòÎèåÎ¶¨Í∏∞:</strong> Í∑∏Î£πÏóê ÏûàÎäî Ïπ¥ÎìúÎ•º ÏôºÏ™Ω 'ÎØ∏Î∂ÑÎ•ò Ïπ¥Îìú' ÏòÅÏó≠ÏúºÎ°ú ÎìúÎûòÍ∑∏ÌïòÎ©¥ÎêòÏöî.</p>
                <p><strong>üîπ ÏÉà Í∑∏Î£π ÎßåÎì§Í∏∞:</strong> Í∏∞Î≥∏ Í∑∏Î£π Ïô∏Ïóê ÏÉàÎ°úÏö¥ Í∑∏Î£πÏùÑ ÏÉùÏÑ±Ìï† Ïàò ÏûàÏñ¥Ïöî.</p>
                <p><strong>üîπ Í∑∏Î£πÎ™Ö ÏàòÏ†ï:</strong> Í∑∏Î£πÎ™ÖÏùÄ Ïñ∏Ï†úÎì† ÎßàÏùåÎåÄÎ°ú ÏàòÏ†ïÌï† Ïàò ÏûàÏñ¥Ïöî.</p>
                <p><strong>üîπ Í∑∏Î£π ÏàúÏÑú Î≥ÄÍ≤Ω:</strong> Í∑∏Î£π Ï†úÎ™©ÏùÑ ÎìúÎûòÍ∑∏Ìï¥ÏÑú Ï§ëÏöîÎèÑÏóê Îî∞Îùº ÏàúÏÑúÎ•º Î∞îÍøÄ Ïàò ÏûàÏñ¥Ïöî.</p>
                <br>
                <p style="color: #666; font-style: italic;">Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞Î•º ÏßÑÌñâÌïòÏãúÎã§Í∞Ä ÏßÑÌñâ Î∞©Î≤ïÏù¥ Í∂ÅÍ∏àÌïòÏã§ ÎïåÎäî Ïñ∏Ï†úÎì†ÏßÄ 'Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ ÏïàÎÇ¥ÏÑú'Î≤ÑÌäºÏùÑ ÎàåÎü¨Ï£ºÏÑ∏Ïöî.</p>
            </div>
            <div class="flex justify-center">
                <button class="btn btn-primary" onclick="closeModal('sorting-guide-modal')">ÌôïÏù∏</button>
            </div>
        </div>
    </div>

    <!-- ÏàòÏ†ïÏÇ¨Ìï≠ 6: ÌäúÌÜ†Î¶¨Ïñº Î™®Îã¨ -->
    <div id="tutorial-overlay" class="tutorial-overlay">
        <div class="tutorial-content">
            <h2>üéØ Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ ÌäúÌÜ†Î¶¨Ïñº</h2>
            <p id="tutorial-text">Ïπ¥ÎìúÎ•º ÎìúÎûòÍ∑∏Ìï¥ÏÑú Í∑∏Î£πÏúºÎ°ú Ïù¥ÎèôÌïòÎäî Î∞©Î≤ïÏùÑ Î≥¥Ïó¨ÎìúÎ¶¥Í≤åÏöî!</p>
            
            <div class="tutorial-demo">
                <div class="demo-card" id="demo-card">ÏòàÏãú Ïπ¥Îìú</div>
                <div class="demo-group">
                    <div class="demo-group-title">üìÅ Íµ¨Îß§ ÌòúÌÉù</div>
                    <div style="color: #999; font-size: 12px;">Ïπ¥ÎìúÎ•º Ïó¨Í∏∞Î°ú Ïù¥Îèô!</div>
                </div>
            </div>
            
            <div class="flex gap-2 justify-center">
                <button class="btn btn-secondary" onclick="closeTutorial()">Í±¥ÎÑàÎõ∞Í∏∞</button>
                <button class="btn btn-primary" id="tutorial-btn" onclick="nextTutorialStep()">ÏãúÏûëÌïòÍ∏∞</button>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // üîó Google Sheets Ïó∞Îèô ÏÑ§Ï†ï (CORS Ïö∞Ìöå Î≤ÑÏ†Ñ)
        // ============================================
        
        let GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbx3ridIkA9eP6YX0WrUgBItWJo_uRWDjvrUf6IqX95POh1JMqA2xlP7qXx5BFzYTUFNiQ/exec';
        let SPREADSHEET_ID = '1V9iTiBnesG9TRTHzohpAyC0358xzQVn2j9qQuVaj8FY';

        // ============================================
        // Ï†ÑÏó≠ Î≥ÄÏàò Î∞è ÏÉÅÌÉú Í¥ÄÎ¶¨
        // ============================================
        
        let appState = {
            currentUser: null,
            currentProject: null,
            currentParticipant: null,
            sortingData: null,
            startTime: null,
            surveyData: null
        };

        const DEFAULT_PROJECT = {
            id: 'default-project',
            title: 'ÌòúÌÉù ÏΩòÌÖêÏ∏† Ïπ¥ÎìúÏÜåÌåÖ',
            cards: [
                'Î∞©ÏÜ° ÏïåÎ¶º Ïã†Ï≤≠ÌïòÍ≥† Ï†ÅÎ¶ΩÍ∏à Î∞õÍ∏∞',
                'Î©§Î≤ÑÏã≠ Í∞ÄÏûÖÌïòÍ≥† Ìï†Ïù∏ Ïø†Ìè∞ Î∞õÍ∏∞', 
                'Î∞©ÏÜ° Ï±ÑÌåÖ ÎÇ®Í∏∞Í≥† Ï†ÅÎ¶ΩÍ∏à Î∞õÍ∏∞',
                'ÏπúÍµ¨ Ï∂îÏ≤úÌïòÍ≥† Ìè¨Ïù∏Ìä∏ Î∞õÍ∏∞',
                'Ï≤´ Íµ¨Îß§ ÌõÑ Ï∫êÏãúÎ∞± Î∞õÍ∏∞',
                'Î¶¨Î∑∞ ÏûëÏÑ±ÌïòÍ≥† Ï†ÅÎ¶ΩÍ∏à Î∞õÍ∏∞',
                'ÏÉùÏùº Ïø†Ìè∞ Î∞õÍ∏∞',
                'Îì±Í∏âÎ≥Ñ Ìï†Ïù∏ ÌòúÌÉù',
                'Î¨¥Î£åÎ∞∞ÏÜ° ÌòúÌÉù',
                'Ï†ÅÎ¶ΩÍ∏à ÌòúÌÉù'
            ],
            sortingType: 'hybrid',
            predefinedGroups: ['Íµ¨Îß§ÌòúÌÉù', 'Ï∞∏Ïó¨ÌòúÌÉù', 'Ïπ¥Îìú/Í≤∞Ï†úÌòúÌÉù'],
            shuffleCards: true,
            allowEditGroups: true,
            createdAt: new Date().toISOString()
        };

        // ============================================
        // ÏàòÏ†ïÏÇ¨Ìï≠ 6: ÌäúÌÜ†Î¶¨Ïñº Í¥ÄÎ†® Î≥ÄÏàò
        // ============================================
        
        let tutorialStep = 0;
        const tutorialSteps = [
            {
                text: "Ïπ¥ÎìúÎ•º ÎìúÎûòÍ∑∏Ìï¥ÏÑú Í∑∏Î£πÏúºÎ°ú Ïù¥ÎèôÌïòÎäî Î∞©Î≤ïÏùÑ Î≥¥Ïó¨ÎìúÎ¶¥Í≤åÏöî!",
                action: "start"
            },
            {
                text: "1Îã®Í≥Ñ: Ïπ¥ÎìúÎ•º ÌÅ¥Î¶≠ÌïòÍ≥† ÎìúÎûòÍ∑∏Ìï¥Î≥¥ÏÑ∏Ïöî!",
                action: "drag"
            },
            {
                text: "2Îã®Í≥Ñ: Í∑∏Î£π ÏòÅÏó≠Ïóê Ïπ¥ÎìúÎ•º ÎÜìÏúºÎ©¥ Î∂ÑÎ•òÍ∞Ä ÏôÑÎ£åÎê©ÎãàÎã§!",
                action: "drop"
            },
            {
                text: "Ï∞∏Í≥†: Í∑∏Î£πÏùò Î™ÖÏπ≠ÏùÑ ÏàòÏ†ïÌï† Ïàò ÏûàÍ≥† ÏÉà Í∑∏Î£πÏùÑ ÎßåÎì§ ÏàòÎèÑÏûàÏñ¥Ïöî!",
                action: "reorder"
            }
        ];

        // ============================================
        // üîó CORS Ïö∞Ìöå Google Sheets Ïó∞Îèô Ìï®ÏàòÎì§
        // ============================================

        /**
         * JSONP Î∞©ÏãùÏúºÎ°ú Google SheetsÏóê Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• (CORS Ïö∞Ìöå)
         */
        async function saveToGoogleSheets(responseData, projectConfig) {
            return new Promise((resolve, reject) => {
                try {
                    console.log('üîó Google Sheets Ï†ÄÏû• ÏãúÏûë (JSONP Î∞©Ïãù)...');
                    
                    // Îç∞Ïù¥ÌÑ∞ Ìè¨Îß∑ÌåÖ
                    const exportData = formatResponseForExport(responseData, projectConfig);
                    
                    // ÏΩúÎ∞± Ìï®ÏàòÎ™Ö ÏÉùÏÑ±
                    const callbackName = 'jsonp_callback_' + Date.now() + '_' + Math.random().toString(36).substr(2, 5);
                    
                    // Ï†ÑÏó≠ ÏΩúÎ∞± Ìï®Ïàò Îì±Î°ù
                    window[callbackName] = function(response) {
                        // ÏΩúÎ∞± Ïã§Ìñâ ÌõÑ Ï†ïÎ¶¨
                        delete window[callbackName];
                        if (document.head.contains(script)) {
                            document.head.removeChild(script);
                        }
                        
                        console.log('üìä Google Sheets ÏùëÎãµ:', response);
                        
                        if (response.status === 'success') {
                            showNotification('‚úÖ Google SheetsÏóê ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!', 'success');
                            resolve(response);
                        } else {
                            reject(new Error(response.message || 'Ï†ÄÏû• Ïã§Ìå®'));
                        }
                    };
                    
                    // URL Íµ¨ÏÑ±
                    const params = new URLSearchParams({
                        action: 'save',
                        data: JSON.stringify(exportData),
                        callback: callbackName
                    });
                    
                    const url = `${GOOGLE_APPS_SCRIPT_URL}?${params.toString()}`;
                    
                    // ÎèôÏ†Å Ïä§ÌÅ¨Î¶ΩÌä∏ ÌÉúÍ∑∏ ÏÉùÏÑ± (JSONP)
                    const script = document.createElement('script');
                    script.src = url;
                    script.onerror = function() {
                        delete window[callbackName];
                        if (document.head.contains(script)) {
                            document.head.removeChild(script);
                        }
                        reject(new Error('ÎÑ§Ìä∏ÏõåÌÅ¨ Ïò§Î•ò: Ïä§ÌÅ¨Î¶ΩÌä∏ Î°úÎìú Ïã§Ìå®'));
                    };
                    
                    // ÌÉÄÏûÑÏïÑÏõÉ ÏÑ§Ï†ï (15Ï¥à)
                    setTimeout(() => {
                        if (window[callbackName]) {
                            delete window[callbackName];
                            if (document.head.contains(script)) {
                                document.head.removeChild(script);
                            }
                            reject(new Error('ÌÉÄÏûÑÏïÑÏõÉ: ÏùëÎãµÏùÑ Î∞õÏßÄ Î™ªÌñàÏäµÎãàÎã§.'));
                        }
                    }, 15000);
                    
                    document.head.appendChild(script);
                    
                } catch (error) {
                    console.error('‚ùå Google Sheets Ï†ÄÏû• Ïã§Ìå®:', error);
                    reject(error);
                }
            });
        }

        /**
         * Ïó∞Í≤∞ ÌÖåÏä§Ìä∏ Ìï®Ïàò
         */
        async function testConnection() {
            const webappUrl = document.getElementById('webapp-url').value.trim();
            const spreadsheetId = document.getElementById('spreadsheet-id').value.trim();
            
            if (!webappUrl || webappUrl === 'Ïó¨Í∏∞Ïóê_ÏÉàÎ°úÏö¥_ÏõπÏï±_URL_ÏûÖÎ†•') {
                showNotification('ÏõπÏï± URLÏùÑ Î®ºÏ†Ä ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }
            
            // ÏûÑÏãúÎ°ú URL ÏÑ§Ï†ï
            GOOGLE_APPS_SCRIPT_URL = webappUrl;
            SPREADSHEET_ID = spreadsheetId;
            
            const statusDiv = document.getElementById('connection-status');
            statusDiv.innerHTML = '<strong>Ïó∞Í≤∞ ÏÉÅÌÉú:</strong> ÌÖåÏä§Ìä∏ Ï§ë...';
            statusDiv.className = 'alert alert-info';
            
            try {
                // ÌÖåÏä§Ìä∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±
                const testData = {
                    participantInfo: {
                        participantId: 'connection_test_' + Date.now(),
                        name: 'Ïó∞Í≤∞ ÌÖåÏä§Ìä∏',
                        phone: '0000'
                    },
                    timeInfo: {
                        startTime: new Date().toISOString(),
                        completedTime: new Date().toISOString(),
                        durationMinutes: 0
                    },
                    sortingResults: {
                        sortingType: 'connection_test',
                        totalCards: 1,
                        assignedCards: 1,
                        totalGroups: 1,
                        groupResults: {
                            'ÌÖåÏä§Ìä∏Í∑∏Î£π': ['Ïó∞Í≤∞ ÌÖåÏä§Ìä∏ Ïπ¥Îìú']
                        }
                    },
                    projectInfo: {
                        projectTitle: 'Ïó∞Í≤∞ ÌÖåÏä§Ìä∏',
                        sortingType: 'connection_test'
                    }
                };
                
                const result = await saveToGoogleSheets(testData, { title: 'Ïó∞Í≤∞ ÌÖåÏä§Ìä∏', cards: ['ÌÖåÏä§Ìä∏ Ïπ¥Îìú'] });
                
                statusDiv.innerHTML = '‚úÖ <strong>Ïó∞Í≤∞ ÏÑ±Í≥µ!</strong> Google SheetsÏôÄ Ï†ïÏÉÅ Ïó∞Í≤∞ÎêòÏóàÏäµÎãàÎã§.';
                statusDiv.className = 'alert alert-success';
                
                // ÏÑ§Ï†ï Ï†ÄÏû•
                localStorage.setItem('google_sheets_config', JSON.stringify({
                    webappUrl: webappUrl,
                    spreadsheetId: spreadsheetId
                }));
                
            } catch (error) {
                console.error('Ïó∞Í≤∞ ÌÖåÏä§Ìä∏ Ïã§Ìå®:', error);
                statusDiv.innerHTML = `‚ùå <strong>Ïó∞Í≤∞ Ïã§Ìå®:</strong> ${error.message}`;
                statusDiv.className = 'alert alert-warning';
            }
        }

        /**
         * Google Sheets Ïó¥Í∏∞
         */
        function openGoogleSheets() {
            const spreadsheetId = document.getElementById('spreadsheet-id').value.trim();
            if (spreadsheetId && spreadsheetId !== 'Ïó¨Í∏∞Ïóê_Ïä§ÌîÑÎ†àÎìúÏãúÌä∏_ID_ÏûÖÎ†•') {
                const sheetsUrl = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit`;
                window.open(sheetsUrl, '_blank');
            } else {
                showNotification('‚ö†Ô∏è Ïä§ÌîÑÎ†àÎìúÏãúÌä∏ IDÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.', 'warning');
            }
        }

        /**
         * Í∞úÏÑ†Îêú ÏïåÎ¶º ÌëúÏãú Ìï®Ïàò
         */
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            const colors = {
                success: { bg: '#d4edda', border: '#28a745', text: '#155724' },
                warning: { bg: '#fff3cd', border: '#ffc107', text: '#856404' },
                error: { bg: '#f8d7da', border: '#dc3545', text: '#721c24' },
                info: { bg: '#d1ecf1', border: '#17a2b8', text: '#0c5460' }
            };
            
            const color = colors[type] || colors.info;
            notification.style.backgroundColor = color.bg;
            notification.style.borderColor = color.border;
            notification.style.color = color.text;
            
            notification.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" 
                            style="background: none; border: none; font-size: 20px; cursor: pointer; color: ${color.text}; margin-left: 15px;">√ó</button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // ============================================
        // Í∏∞Î≥∏ Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§
        // ============================================

        function saveToStorage(key, data) {
            try {
                localStorage.setItem(key, JSON.stringify(data));
                return true;
            } catch (error) {
                console.error('Ï†ÄÏû• Ïã§Ìå®:', error);
                return false;
            }
        }

        function loadFromStorage(key, defaultValue = null) {
            try {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : defaultValue;
            } catch (error) {
                console.error('Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:', error);
                return defaultValue;
            }
        }

        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2, 9);
        }

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.add('show');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // ============================================
        // ÏàòÏ†ïÏÇ¨Ìï≠ 6: ÌäúÌÜ†Î¶¨Ïñº Ìï®ÏàòÎì§
        // ============================================

        function showTutorial() {
            document.getElementById('tutorial-overlay').style.display = 'flex';
            tutorialStep = 0;
            updateTutorialContent();
        }

        function closeTutorial() {
            document.getElementById('tutorial-overlay').style.display = 'none';
            tutorialStep = 0;
        }

        function nextTutorialStep() {
            if (tutorialStep < tutorialSteps.length - 1) {
                tutorialStep++;
                updateTutorialContent();
                executeTutorialAction();
            } else {
                closeTutorial();
                showNotification('‚úÖ ÌäúÌÜ†Î¶¨ÏñºÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! Ïù¥Ï†ú Ïπ¥Îìú Î∂ÑÎ•òÎ•º ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî!', 'success');
            }
        }

        function updateTutorialContent() {
            const step = tutorialSteps[tutorialStep];
            document.getElementById('tutorial-text').textContent = step.text;
            
            const btn = document.getElementById('tutorial-btn');
            if (tutorialStep === 0) {
                btn.textContent = 'ÏãúÏûëÌïòÍ∏∞';
            } else if (tutorialStep === tutorialSteps.length - 1) {
                btn.textContent = 'ÏôÑÎ£å';
            } else {
                btn.textContent = 'Îã§Ïùå Îã®Í≥Ñ';
            }
        }

        function executeTutorialAction() {
            const step = tutorialSteps[tutorialStep];
            const demoCard = document.getElementById('demo-card');
            
            switch (step.action) {
                case 'drag':
                    demoCard.style.animation = 'cardMove 2s ease-in-out infinite';
                    break;
                case 'drop':
                    demoCard.style.animation = 'cardMove 2s ease-in-out';
                    demoCard.style.animationFillMode = 'forwards';
                    break;
                case 'reorder':
                    demoCard.style.animation = 'none';
                    demoCard.style.left = '200px';
                    demoCard.style.top = '60px';
                    demoCard.textContent = 'ÏÉÅÌíà Íµ¨Îß§ÌïòÍ≥† Ïø†Ìè∞ Î∞õÍ∏∞';
                    break;
            }
        }

        // ============================================
        // ÌéòÏù¥ÏßÄ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ìï®ÏàòÎì§
        // ============================================

        function showWelcomePage() {
            showPage('welcome-page');
        }

        function showParticipantLogin() {
            showPage('participant-login-page');
        }

        function showAdminLogin() {
            showPage('admin-login-page');
        }

        function openParticipantURL() {
            const baseURL = window.location.origin + window.location.pathname;
            const participantURL = `${baseURL}?mode=participant`;
            window.open(participantURL, '_blank');
        }

        function returnToLogin() {
            if (confirm('ÏßÑÌñâ Ï§ëÏù∏ Ïπ¥ÎìúÏÜåÌåÖÏù¥ ÏûàÏäµÎãàÎã§. Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞ÄÏãúÍ≤†ÏäµÎãàÍπå?\n(ÏßÑÌñâ ÏÉÅÌô©ÏùÄ ÏûêÎèôÏúºÎ°ú Ï†ÄÏû•Îê©ÎãàÎã§.)')) {
                // ÌòÑÏû¨ ÏßÑÌñâ ÏÉÅÌô© Ï†ÄÏû•
                if (appState.sortingData) {
                    autoSave();
                }
                showParticipantLogin();
            }
        }

        function adminLogin(event) {
            event.preventDefault();
            const password = document.getElementById('admin-password').value;
            if (password === 'LHLH') {
                appState.currentUser = { role: 'admin' };
                showPage('admin-dashboard-page');
                loadAdminData();
                updateResponseStats();
            } else {
                showNotification('ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.', 'error');
            }
        }

        function adminLogout() {
            appState.currentUser = null;
            // Í¥ÄÎ¶¨Ïûê URLÎ°ú Ïù¥Îèô
            window.location.href = window.location.pathname + '?mode=admin';
        }

        function loadAdminData() {
            const project = loadFromStorage('current_project', DEFAULT_PROJECT);
            document.getElementById('project-title').value = project.title;
            document.getElementById('sorting-type').value = project.sortingType;
            document.getElementById('predefined-groups').value = project.predefinedGroups.join('\n');
            document.getElementById('card-list').value = project.cards.join('\n');
            document.getElementById('shuffle-cards').checked = project.shuffleCards || false;
            document.getElementById('allow-edit-groups').checked = project.allowEditGroups || false;
            updateCardCount();
            updateSortingTypeVisibility();
            
            // Google Sheets ÏÑ§Ï†ï Î°úÎìú
            const config = loadFromStorage('google_sheets_config');
            if (config) {
                document.getElementById('webapp-url').value = config.webappUrl || '';
                document.getElementById('spreadsheet-id').value = config.spreadsheetId || '';
                GOOGLE_APPS_SCRIPT_URL = config.webappUrl || '';
                SPREADSHEET_ID = config.spreadsheetId || '';
            }
        }

        function addNewCard() {
            const newCard = document.getElementById('new-card').value.trim();
            if (!newCard) return;
            const cardList = document.getElementById('card-list');
            const currentCards = cardList.value.trim();
            if (currentCards) {
                cardList.value = currentCards + '\n' + newCard;
            } else {
                cardList.value = newCard;
            }
            document.getElementById('new-card').value = '';
            updateCardCount();
        }

        function updateCardCount() {
            const cards = document.getElementById('card-list').value.trim().split('\n').filter(card => card.trim());
            document.getElementById('card-count').textContent = cards.length;
        }

        function updateSortingTypeVisibility() {
            const sortingType = document.getElementById('sorting-type').value;
            const groupsSection = document.getElementById('predefined-groups-section');
            if (sortingType === 'open') {
                groupsSection.style.display = 'none';
            } else {
                groupsSection.style.display = 'block';
            }
        }

        function generateURL() {
            // Google Sheets ÏÑ§Ï†ï Ï†ÄÏû•
            const webappUrl = document.getElementById('webapp-url').value.trim();
            const spreadsheetId = document.getElementById('spreadsheet-id').value.trim();
            
            if (webappUrl && webappUrl !== 'Ïó¨Í∏∞Ïóê_ÏÉàÎ°úÏö¥_ÏõπÏï±_URL_ÏûÖÎ†•') {
                GOOGLE_APPS_SCRIPT_URL = webappUrl;
                SPREADSHEET_ID = spreadsheetId;
                
                localStorage.setItem('google_sheets_config', JSON.stringify({
                    webappUrl: webappUrl,
                    spreadsheetId: spreadsheetId
                }));
            }

            const project = {
                id: generateId(),
                title: document.getElementById('project-title').value.trim(),
                sortingType: document.getElementById('sorting-type').value,
                predefinedGroups: document.getElementById('predefined-groups').value.trim().split('\n').filter(g => g.trim()),
                cards: document.getElementById('card-list').value.trim().split('\n').filter(c => c.trim()),
                shuffleCards: document.getElementById('shuffle-cards').checked,
                allowEditGroups: document.getElementById('allow-edit-groups').checked,
                createdAt: new Date().toISOString()
            };

            if (!project.title || project.cards.length === 0) {
                showNotification('ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©Í≥º Ïπ¥Îìú Î™©Î°ùÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }

            if (project.cards.length > 100) {
                showNotification('Ïπ¥ÎìúÎäî ÏµúÎåÄ 100Í∞úÍπåÏßÄ ÏûÖÎ†•Ìï† Ïàò ÏûàÏäµÎãàÎã§.', 'warning');
                return;
            }

            saveToStorage('current_project', project);
            appState.currentProject = project;

            const baseURL = window.location.origin + window.location.pathname;
            const projectURL = `${baseURL}?mode=participant`;
            
            document.getElementById('generated-url').value = projectURL;
            document.getElementById('generated-url-section').classList.remove('hidden');

            showNotification('ÌîÑÎ°úÏ†ùÌä∏Í∞Ä Ï†ÄÏû•ÎêòÍ≥† URLÏù¥ ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§!', 'success');
        }

        function copyURL() {
            const urlInput = document.getElementById('generated-url');
            urlInput.select();
            document.execCommand('copy');
            showNotification('URLÏù¥ ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!', 'success');
        }

        function updateResponseStats() {
            const responses = getAllResponses();
            const completed = responses.filter(r => r.isCompleted);
            const ongoing = responses.filter(r => !r.isCompleted);
            
            const avgDuration = completed.length > 0 
                ? Math.round(completed.reduce((sum, r) => sum + (r.duration || 0), 0) / completed.length / 60)
                : 0;

            document.getElementById('total-responses').textContent = responses.length;
            document.getElementById('completed-responses').textContent = completed.length;
            document.getElementById('ongoing-responses').textContent = ongoing.length;
            document.getElementById('avg-duration').textContent = avgDuration + 'Î∂Ñ';
        }

        function getAllResponses() {
            const responses = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && key.startsWith('participant_')) {
                    const data = loadFromStorage(key);
                    if (data) responses.push(data);
                }
            }
            return responses;
        }

        function downloadAllResponses() {
            const responses = getAllResponses();
            if (responses.length === 0) {
                showNotification('Îã§Ïö¥Î°úÎìúÌï† ÏùëÎãµÏù¥ ÏóÜÏäµÎãàÎã§.', 'warning');
                return;
            }

            const project = loadFromStorage('current_project', DEFAULT_PROJECT);
            const exportData = {
                projectInfo: project,
                exportDate: new Date().toISOString(),
                totalResponses: responses.length,
                responses: responses.map(r => formatResponseForExport(r, project))
            };

            downloadJSON(exportData, `Ïπ¥ÎìúÏÜåÌåÖ_Ï†ÑÏ≤¥ÏùëÎãµ_${project.title}_${new Date().toISOString().split('T')[0]}.json`);
        }

        function clearAllData() {
            if (confirm('Î™®Îì† ÏùëÎãµ Îç∞Ïù¥ÌÑ∞Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå? Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.')) {
                for (let i = localStorage.length - 1; i >= 0; i--) {
                    const key = localStorage.key(i);
                    if (key && key.startsWith('participant_')) {
                        localStorage.removeItem(key);
                    }
                }
                updateResponseStats();
                showNotification('Î™®Îì† ÏùëÎãµ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.', 'success');
            }
        }

        // ============================================
        // Ï∞∏Ïó¨Ïûê Í¥ÄÎ†® Ìï®ÏàòÎì§
        // ============================================

        function participantLogin(event) {
            event.preventDefault();
            const name = document.getElementById('participant-name').value.trim();
            const phone = document.getElementById('participant-phone').value.trim();
            
            if (!name || !phone) {
                showNotification('Ïù¥Î¶ÑÍ≥º Ìú¥ÎåÄÌè∞ Îí∑Î≤àÌò∏Î•º Ïò¨Î∞îÎ•¥Í≤å ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }

            if (!/^[Í∞Ä-Ìû£]+$/.test(name)) {
                showNotification('Ïù¥Î¶ÑÏùÄ ÌïúÍ∏ÄÎßå ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }

            if (!/^[0-9]{4}$/.test(phone)) {
                showNotification('Ìú¥ÎåÄÌè∞ Îí∑Î≤àÌò∏Îäî Ïà´Ïûê 4ÏûêÎ¶¨Îßå ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }

            const participantId = `${name}_${phone}`;
            const existingData = loadFromStorage(`participant_${participantId}`);
            
            if (existingData && !existingData.isCompleted) {
                appState.currentParticipant = { name, phone, id: participantId };
                document.getElementById('existing-response-notice').classList.remove('hidden');
                return;
            }

            startNewSorting(name, phone, participantId);
        }

        function continueExisting() {
            const { name, phone, id } = appState.currentParticipant;
            const existingData = loadFromStorage(`participant_${id}`);
            appState.sortingData = existingData;
            appState.startTime = new Date(existingData.startTime);
            startSortingPage();
        }

        function startNew() {
            const { name, phone, id } = appState.currentParticipant;
            startNewSorting(name, phone, id);
        }

        function startNewSorting(name, phone, participantId) {
            const project = loadFromStorage('current_project', DEFAULT_PROJECT);
            appState.currentParticipant = { name, phone, id: participantId };
            appState.currentProject = project;
            appState.startTime = new Date();
            
            // Ïπ¥Îìú ÏÑûÍ∏∞ ÏòµÏÖò Ï†ÅÏö©
            let cards = [...project.cards];
            if (project.shuffleCards) {
                cards = shuffleArray(cards);
            }
            
            appState.sortingData = {
                participantId,
                name,
                phone,
                startTime: appState.startTime.toISOString(),
                lastSaveTime: appState.startTime.toISOString(),
                completedTime: null,
                duration: 0,
                isCompleted: false,
                sortingType: project.sortingType,
                groups: initializeGroups(project),
                unassignedCards: cards.map((card, index) => ({
                    id: `card-${index}`,
                    content: card,
                    originalIndex: index
                })),
                modifiedGroupNames: []
            };

            startSortingPage();
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function initializeGroups(project) {
            const groups = {};
            if (project.sortingType !== 'open') {
                project.predefinedGroups.forEach((groupName, index) => {
                    groups[`group-${index}`] = {
                        id: `group-${index}`,
                        name: groupName,
                        originalName: groupName,
                        isCustom: false,
                        cards: [],
                        order: index
                    };
                });
            }
            return groups;
        }

        function startSortingPage() {
            showPage('sorting-page');
            const { name } = appState.currentParticipant;
            const { sortingType } = appState.currentProject;
            
            document.getElementById('sorting-participant-name').textContent = `${name}ÎãòÏùò Ïπ¥ÎìúÏÜåÌåÖ`;
            document.getElementById('sorting-type-info').textContent = getSortingTypeText(sortingType);
            
            const createGroupBtn = document.getElementById('create-group-btn');
            if (sortingType === 'closed') {
                createGroupBtn.style.display = 'none';
            } else {
                createGroupBtn.style.display = 'block';
            }
            
            renderSortingUI();
            updateProgress();
            
            // Ï≤òÏùå ÏßÑÏûÖÏãú ÏïàÎÇ¥ÏÑú ÌëúÏãú
            if (!sessionStorage.getItem('guide_shown')) {
                showSortingGuide();
                sessionStorage.setItem('guide_shown', 'true');
            }
        }

        function getSortingTypeText(type) {
            switch (type) {
                case 'open': return 'Ïò§Ìîà ÏÜåÌåÖ (Í∑∏Î£π ÏûêÏú† ÏÉùÏÑ±)';
                case 'closed': return 'ÌÅ¥Î°úÏ¶àÎìú ÏÜåÌåÖ (Í≥†Ï†ï Í∑∏Î£π)';
                case 'hybrid': return 'ÌïòÏù¥Î∏åÎ¶¨Îìú ÏÜåÌåÖ (Í∏∞Î≥∏ + ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±)';
                default: return 'Ïπ¥ÎìúÏÜåÌåÖ ÏßÑÌñâ Ï§ë';
            }
        }

        function renderSortingUI() {
            renderCardPool();
            renderGroups();
        }

        function renderCardPool() {
            const cardPool = document.getElementById('card-pool');
            const cardPoolContainer = cardPool.parentElement;
            const { unassignedCards } = appState.sortingData;
            cardPool.innerHTML = '';
            
            // Ïπ¥ÎìúÌíÄ Ïª®ÌÖåÏù¥ÎÑàÏóê ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ Ïù¥Î≤§Ìä∏ Ï∂îÍ∞Ä (Ï§ëÎ≥µ Î∞©ÏßÄ)
            if (!cardPoolContainer.hasAttribute('data-drop-enabled')) {
                cardPoolContainer.addEventListener('dragover', handleDragOver);
                cardPoolContainer.addEventListener('drop', handleDropToPool);
                cardPoolContainer.addEventListener('dragenter', handleDragEnterPool);
                cardPoolContainer.addEventListener('dragleave', handleDragLeavePool);
                cardPoolContainer.setAttribute('data-drop-enabled', 'true');
            }
            
            unassignedCards.forEach(card => {
                const cardElement = createCardElement(card);
                cardPool.appendChild(cardElement);
            });
            
            document.getElementById('unassigned-count').textContent = unassignedCards.length;
        }

        function createCardElement(card) {
            const cardDiv = document.createElement('div');
            cardDiv.className = 'card-item';
            cardDiv.textContent = card.content;
            cardDiv.draggable = true;
            cardDiv.dataset.cardId = card.id;
            
            cardDiv.addEventListener('dragstart', handleDragStart);
            cardDiv.addEventListener('dragend', handleDragEnd);
            
            return cardDiv;
        }

        function renderGroups() {
            const container = document.getElementById('groups-container');
            const { groups } = appState.sortingData;
            container.innerHTML = '';
            
            // Í∑∏Î£πÏùÑ order ÏàúÏÑúÎåÄÎ°ú Ï†ïÎ†¨
            const sortedGroups = Object.values(groups).sort((a, b) => (a.order || 0) - (b.order || 0));
            
            sortedGroups.forEach((group, index) => {
                const groupElement = createGroupElement(group, index + 1);
                container.appendChild(groupElement);
            });
            
            // Í∑∏Î£π Ïª®ÌÖåÏù¥ÎÑàÏóê Í∑∏Î£π ÏàúÏÑú Î≥ÄÍ≤Ω Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
            if (!container.hasAttribute('data-group-sort-enabled')) {
                container.addEventListener('dragover', handleGroupDragOver);
                container.addEventListener('drop', handleGroupDrop);
                container.setAttribute('data-group-sort-enabled', 'true');
            }
        }

        function createGroupElement(group, rank) {
            const groupDiv = document.createElement('div');
            groupDiv.className = 'group-container';
            groupDiv.dataset.groupId = group.id;
            groupDiv.draggable = true;
            
            // Ïπ¥Îìú ÎìúÎ°≠ Ïù¥Î≤§Ìä∏
            groupDiv.addEventListener('dragover', handleDragOver);
            groupDiv.addEventListener('drop', handleDrop);
            groupDiv.addEventListener('dragenter', handleDragEnter);
            groupDiv.addEventListener('dragleave', handleDragLeave);
            
            // Í∑∏Î£π ÎìúÎûòÍ∑∏ Ïù¥Î≤§Ìä∏
            groupDiv.addEventListener('dragstart', handleGroupDragStart);
            groupDiv.addEventListener('dragend', handleGroupDragEnd);
            
            // Í∞úÏÑ†Îêú Í∑∏Î£π ÎìúÎûòÍ∑∏ Ìï∏Îì§
            const dragHandle = document.createElement('div');
            dragHandle.className = 'group-drag-handle';
            dragHandle.innerHTML = '‚ãÆ‚ãÆ';
            dragHandle.title = 'Í∑∏Î£π ÏàúÏÑú Î≥ÄÍ≤Ω (ÎìúÎûòÍ∑∏)';
            groupDiv.appendChild(dragHandle);
            
            // ÏàòÏ†ïÏÇ¨Ìï≠ 2: Í∞úÏÑ†Îêú Í∑∏Î£π ÏàúÏúÑ ÌëúÏãú
            const rankDiv = document.createElement('div');
            rankDiv.className = 'group-rank';
            const rankIcon = ['ü•á', 'ü•à', 'ü•â'][rank - 1] || 'üèÖ';
            rankDiv.innerHTML = `${rankIcon} ${rank}ÏàúÏúÑ`;
            rankDiv.title = `${rank}ÏàúÏúÑ Í∑∏Î£π`;
            groupDiv.appendChild(rankDiv);
            
            const header = document.createElement('div');
            header.className = 'group-header';
            
            const title = document.createElement('div');
            title.className = 'group-title editable';
            title.textContent = group.name;
            
            // Í∑∏Î£πÎ™Ö ÏàòÏ†ï Í∏∞Îä•
            const allowEdit = appState.currentProject.allowEditGroups;
            if (allowEdit || group.isCustom) {
                title.addEventListener('click', () => editGroupName(group.id));
            }
            
            const meta = document.createElement('div');
            meta.className = 'group-meta';
            
            // ÏàòÏ†ïÏÇ¨Ìï≠ 2: Í∞úÏÑ†Îêú Ïπ¥Îìú Ïàò ÌëúÏãú
            const count = document.createElement('span');
            count.className = 'card-count';
            count.textContent = `${group.cards.length}Í∞ú`;
            meta.appendChild(count);
            
            if (group.isCustom) {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-group-btn';
                deleteBtn.textContent = '√ó';
                deleteBtn.onclick = () => deleteGroup(group.id);
                meta.appendChild(deleteBtn);
            }
            
            header.appendChild(title);
            header.appendChild(meta);
            
            const content = document.createElement('div');
            content.className = 'group-content';
            
            if (group.cards.length === 0) {
                const empty = document.createElement('div');
                empty.className = 'empty-group';
                empty.textContent = 'Ïπ¥ÎìúÎ•º Ïó¨Í∏∞Ïóê ÎìúÎûòÍ∑∏ÌïòÏÑ∏Ïöî';
                content.appendChild(empty);
            } else {
                group.cards.forEach(card => {
                    const cardElement = createCardElement(card);
                    content.appendChild(cardElement);
                });
            }
            
            groupDiv.appendChild(header);
            groupDiv.appendChild(content);
            
            return groupDiv;
        }

        // ============================================
        // Í∑∏Î£π ÏàúÏÑú Î≥ÄÍ≤Ω Í¥ÄÎ†® Ìï®ÏàòÎì§
        // ============================================

        function handleGroupDragStart(event) {
            if (!event.target.classList.contains('group-container')) return;
            
            const groupId = event.target.dataset.groupId;
            event.dataTransfer.setData('text/group-id', groupId);
            event.target.classList.add('dragging-group');
            
            // Ïπ¥Îìú ÎìúÎûòÍ∑∏ÏôÄ Íµ¨Î∂ÑÌïòÍ∏∞ ÏúÑÌïú ÌîåÎûòÍ∑∏
            event.dataTransfer.setData('text/drag-type', 'group');
        }

        function handleGroupDragEnd(event) {
            event.target.classList.remove('dragging-group');
            
            // Î™®Îì† Í∑∏Î£πÏùò ÎìúÎûòÍ∑∏ Ïò§Î≤Ñ ÏÉÅÌÉú Ï†úÍ±∞
            document.querySelectorAll('.group-container').forEach(group => {
                group.classList.remove('drag-over');
            });
        }

        function handleGroupDragOver(event) {
            event.preventDefault();
            
            // Í∑∏Î£π ÎìúÎûòÍ∑∏Ïù∏ÏßÄ ÌôïÏù∏
            const dragType = event.dataTransfer.types.includes('text/drag-type');
            if (!dragType) return;
            
            const targetGroup = event.target.closest('.group-container');
            if (targetGroup && !targetGroup.classList.contains('dragging-group')) {
                targetGroup.classList.add('drag-over');
            }
        }

        function handleGroupDrop(event) {
            event.preventDefault();
            
            // ÎìúÎûòÍ∑∏ ÌÉÄÏûÖ ÌôïÏù∏
            const dragType = event.dataTransfer.getData('text/drag-type');
            if (dragType === 'group') {
                // Í∑∏Î£π ÏàúÏÑú Î≥ÄÍ≤Ω
                const draggedGroupId = event.dataTransfer.getData('text/group-id');
                const targetGroup = event.target.closest('.group-container');
                
                if (targetGroup && targetGroup.dataset.groupId !== draggedGroupId) {
                    const targetGroupId = targetGroup.dataset.groupId;
                    reorderGroups(draggedGroupId, targetGroupId);
                }
                
                targetGroup.classList.remove('drag-over');
            } else {
                // Í∏∞Ï°¥ Ïπ¥Îìú ÎìúÎ°≠ Ï≤òÎ¶¨
                const cardId = event.dataTransfer.getData('text/plain');
                const targetGroup = event.target.closest('.group-container');
                const targetGroupId = targetGroup.dataset.groupId;
                moveCardToGroup(cardId, targetGroupId);
                targetGroup.classList.remove('drag-over');
            }
        }

        function reorderGroups(draggedGroupId, targetGroupId) {
            const { groups } = appState.sortingData;
            const draggedGroup = groups[draggedGroupId];
            const targetGroup = groups[targetGroupId];
            
            if (!draggedGroup || !targetGroup) return;
            
            // ÌòÑÏû¨ ÏàúÏÑú Ï†ÄÏû•
            const draggedOrder = draggedGroup.order || 0;
            const targetOrder = targetGroup.order || 0;
            
            // ÏàúÏÑú ÍµêÏ≤¥
            draggedGroup.order = targetOrder;
            targetGroup.order = draggedOrder;
            
            // UI Îã§Ïãú Î†åÎçîÎßÅ
            renderGroups();
            autoSave();
            
            showNotification('‚úÖ Í∑∏Î£π ÏàúÏÑúÍ∞Ä Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§!', 'success');
        }

        // ============================================
        // Í∏∞Ï°¥ ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ Ìï®ÏàòÎì§ (Ïπ¥ÎìúÏö©)
        // ============================================

        function handleDragStart(event) {
            // Ïπ¥Îìú ÎìúÎûòÍ∑∏Ïù∏ÏßÄ ÌôïÏù∏
            if (!event.target.classList.contains('card-item')) return;
            
            const cardId = event.target.dataset.cardId;
            event.dataTransfer.setData('text/plain', cardId);
            event.dataTransfer.setData('text/drag-type', 'card');
            event.target.classList.add('dragging');
        }

        function handleDragEnd(event) {
            event.target.classList.remove('dragging');
            document.querySelectorAll('.group-container').forEach(group => {
                group.classList.remove('drag-over');
            });
            document.querySelectorAll('.card-pool').forEach(pool => {
                pool.classList.remove('drag-over');
            });
        }

        function handleDragOver(event) {
            event.preventDefault();
        }

        function handleDragEnter(event) {
            const dragType = event.dataTransfer.types.includes('text/drag-type');
            if (!dragType) return;
            
            const targetGroup = event.target.closest('.group-container');
            if (targetGroup) {
                targetGroup.classList.add('drag-over');
            }
        }

        function handleDragLeave(event) {
            const targetGroup = event.target.closest('.group-container');
            if (targetGroup && !targetGroup.contains(event.relatedTarget)) {
                targetGroup.classList.remove('drag-over');
            }
        }

        function handleDrop(event) {
            event.preventDefault();
            
            // ÎìúÎûòÍ∑∏ ÌÉÄÏûÖÏóê Îî∞Îùº Ï≤òÎ¶¨ Î∂ÑÍ∏∞
            const dragType = event.dataTransfer.getData('text/drag-type');
            
            if (dragType === 'card') {
                const cardId = event.dataTransfer.getData('text/plain');
                const targetGroup = event.target.closest('.group-container');
                const targetGroupId = targetGroup.dataset.groupId;
                moveCardToGroup(cardId, targetGroupId);
                targetGroup.classList.remove('drag-over');
            }
            // Í∑∏Î£π ÎìúÎ°≠ÏùÄ handleGroupDropÏóêÏÑú Ï≤òÎ¶¨
        }

        function handleDragEnterPool(event) {
            event.target.closest('.card-pool').classList.add('drag-over');
        }

        function handleDragLeavePool(event) {
            if (!event.target.closest('.card-pool').contains(event.relatedTarget)) {
                event.target.closest('.card-pool').classList.remove('drag-over');
            }
        }

        function handleDropToPool(event) {
            event.preventDefault();
            const cardId = event.dataTransfer.getData('text/plain');
            const cardPool = event.target.closest('.card-pool');
            moveCardToPool(cardId);
            cardPool.classList.remove('drag-over');
        }

        function moveCardToPool(cardId) {
            const { groups, unassignedCards } = appState.sortingData;
            let card = null;
            
            // Ïù¥ÎØ∏ ÎØ∏Î∂ÑÎ•ò Ïπ¥ÎìúÏóê ÏûàÎäîÏßÄ ÌôïÏù∏
            const alreadyUnassigned = unassignedCards.find(c => c.id === cardId);
            if (alreadyUnassigned) return;
            
            // Í∑∏Î£πÏóêÏÑú Ïπ¥Îìú Ï∞æÏïÑÏÑú Ï†úÍ±∞
            for (const group of Object.values(groups)) {
                const cardIndex = group.cards.findIndex(c => c.id === cardId);
                if (cardIndex !== -1) {
                    card = group.cards.splice(cardIndex, 1)[0];
                    break;
                }
            }
            
            if (card) {
                unassignedCards.push(card);
                renderSortingUI();
                updateProgress();
                autoSave();
            }
        }

        function moveCardToGroup(cardId, targetGroupId) {
            const { groups, unassignedCards } = appState.sortingData;
            let card = null;
            
            const unassignedIndex = unassignedCards.findIndex(c => c.id === cardId);
            if (unassignedIndex !== -1) {
                card = unassignedCards.splice(unassignedIndex, 1)[0];
            } else {
                for (const group of Object.values(groups)) {
                    const cardIndex = group.cards.findIndex(c => c.id === cardId);
                    if (cardIndex !== -1) {
                        card = group.cards.splice(cardIndex, 1)[0];
                        break;
                    }
                }
            }
            
            if (card && groups[targetGroupId]) {
                groups[targetGroupId].cards.push(card);
                renderSortingUI();
                updateProgress();
                autoSave();
            }
        }

        function createNewGroup() {
            showModal('create-group-modal');
            document.getElementById('new-group-name').focus();
        }

        function showSortingGuide() {
            showModal('sorting-guide-modal');
        }

        function confirmCreateGroup() {
            const groupName = document.getElementById('new-group-name').value.trim();
            
            if (!groupName) {
                showNotification('Í∑∏Î£π Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }
            
            if (groupName.length > 50) {
                showNotification('Í∑∏Î£π Ïù¥Î¶ÑÏùÄ 50Ïûê Ïù¥ÎÇ¥Î°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }
            
            const existingNames = Object.values(appState.sortingData.groups).map(g => g.name);
            if (existingNames.includes(groupName)) {
                showNotification('Ïù¥ÎØ∏ Ï°¥Ïû¨ÌïòÎäî Í∑∏Î£π Ïù¥Î¶ÑÏûÖÎãàÎã§.', 'warning');
                return;
            }
            
            // ÏÉà Í∑∏Î£πÏùò ÏàúÏÑú Í≤∞Ï†ï (Í∏∞Ï°¥ Í∑∏Î£πÎì§Ïùò ÏµúÎåÄ order + 1)
            const maxOrder = Object.values(appState.sortingData.groups).reduce((max, group) => {
                return Math.max(max, group.order || 0);
            }, -1);
            
            const newGroupId = `custom-${generateId()}`;
            appState.sortingData.groups[newGroupId] = {
                id: newGroupId,
                name: groupName,
                originalName: groupName,
                isCustom: true,
                cards: [],
                order: maxOrder + 1
            };
            
            renderGroups();
            closeModal('create-group-modal');
            document.getElementById('new-group-name').value = '';
            autoSave();
            showNotification('‚úÖ ÏÉà Í∑∏Î£πÏù¥ ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§!', 'success');
        }

        // ÏàòÏ†ïÏÇ¨Ìï≠ 3: Í∑∏Î£πÎ™Ö ÏàòÏ†ïÏãú ÏïåÎüø Ï∂îÍ∞Ä
        function editGroupName(groupId) {
            const group = appState.sortingData.groups[groupId];
            if (!group) return;
            
            const allowEdit = appState.currentProject.allowEditGroups;
            if (!allowEdit && !group.isCustom) return;
            
            const newName = prompt('ÏÉà Í∑∏Î£π Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî:', group.name);
            if (newName && newName.trim() && newName.trim() !== group.name) {
                // Í∑∏Î£πÎ™Ö Î≥ÄÍ≤Ω Í∏∞Î°ù
                if (!group.isCustom && group.originalName !== newName.trim()) {
                    if (!appState.sortingData.modifiedGroupNames.includes(group.originalName)) {
                        appState.sortingData.modifiedGroupNames.push(group.originalName);
                    }
                }
                
                group.name = newName.trim();
                renderGroups();
                autoSave();
                // ÏàòÏ†ïÏÇ¨Ìï≠ 3: Í∑∏Î£πÎ™Ö ÏàòÏ†ï ÏïåÎüø
                showNotification('‚úÖ Í∑∏Î£πÎ™ÖÏù¥ ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§!', 'success');
            }
        }

        function deleteGroup(groupId) {
            const group = appState.sortingData.groups[groupId];
            if (!group || !group.isCustom) return;
            
            if (confirm(`'${group.name}' Í∑∏Î£πÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå? Ìè¨Ìï®Îêú Ïπ¥ÎìúÎì§ÏùÄ ÎØ∏Î∂ÑÎ•òÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.`)) {
                appState.sortingData.unassignedCards.push(...group.cards);
                delete appState.sortingData.groups[groupId];
                renderSortingUI();
                updateProgress();
                autoSave();
                showNotification('‚úÖ Í∑∏Î£πÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.', 'success');
            }
        }

        function updateProgress() {
            if (!appState.sortingData) return;
            
            const totalCards = appState.currentProject.cards.length;
            const assignedCards = totalCards - appState.sortingData.unassignedCards.length;
            const progress = Math.round((assignedCards / totalCards) * 100);
            
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = 
                `${totalCards}Í∞ú Ï§ë ${assignedCards}Í∞ú Ïπ¥Îìú Î∂ÑÎ•ò ÏôÑÎ£å (${progress}%)`;
            
            const submitBtn = document.getElementById('submit-btn');
            if (assignedCards === totalCards) {
                submitBtn.disabled = false;
                submitBtn.textContent = '‚úÖ ÏùëÎãµ Ï†úÏ∂úÌïòÍ∏∞';
            } else {
                submitBtn.disabled = false;
                submitBtn.textContent = `‚úÖ ÏùëÎãµ Ï†úÏ∂úÌïòÍ∏∞ (${totalCards - assignedCards}Í∞ú ÎØ∏Î∂ÑÎ•ò)`;
            }
        }

        function autoSave() {
            if (!appState.sortingData) return;
            appState.sortingData.lastSaveTime = new Date().toISOString();
            saveToStorage(`participant_${appState.sortingData.participantId}`, appState.sortingData);
        }

        function resetAllCards() {
            if (!confirm('Î™®Îì† Ïπ¥ÎìúÎ•º ÎØ∏Î∂ÑÎ•ò ÏÉÅÌÉúÎ°ú Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
            
            const { groups } = appState.sortingData;
            Object.values(groups).forEach(group => {
                appState.sortingData.unassignedCards.push(...group.cards);
                group.cards = [];
            });
            
            renderSortingUI();
            updateProgress();
            autoSave();
            showNotification('‚úÖ Î™®Îì† Ïπ¥ÎìúÍ∞Ä Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.', 'success');
        }

        /**
         * ÏÜåÌåÖ Ï†úÏ∂ú - ÏÑ§Î¨∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
         */
        function submitSorting() {
            if (!appState.sortingData) return;
            
            const unassignedCount = appState.sortingData.unassignedCards.length;
            if (unassignedCount > 0) {
                if (!confirm(`${unassignedCount}Í∞úÏùò Ïπ¥ÎìúÍ∞Ä ÏïÑÏßÅ Î∂ÑÎ•òÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. Í∑∏ÎûòÎèÑ Îã§Ïùå Îã®Í≥ÑÎ°ú ÏßÑÌñâÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
                    return;
                }
            }
            
            // Ïπ¥ÎìúÏÜåÌåÖ ÏôÑÎ£å ÏãúÍ∞Ñ Í∏∞Î°ù
            appState.sortingData.sortingCompletedTime = new Date().toISOString();
            appState.sortingData.sortingDuration = Math.floor((new Date() - appState.startTime) / 1000);
            
            // ÏûÑÏãú Ï†ÄÏû•
            autoSave();
            
            // ÏÑ§Î¨∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
            showSurveyPage();
        }

        // ============================================
        // ÏàòÏ†ïÏÇ¨Ìï≠ 7: ÏôÑÏ†Ñ Ïû¨ÏÑ§Í≥ÑÎêú ÏÑ§Î¨∏ ÏùëÎãµ ÌéòÏù¥ÏßÄ Ìï®ÏàòÎì§
        // ============================================

        function showSurveyPage() {
            showPage('survey-page');
            
            // ÏÑ§Î¨∏ Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî ÎòêÎäî Î≥µÏõê
            if (appState.sortingData.tempSurveyData) {
                // ÏûÑÏãú Ï†ÄÏû•Îêú ÏÑ§Î¨∏ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏûàÏúºÎ©¥ Î≥µÏõê
                appState.surveyData = appState.sortingData.tempSurveyData;
            } else {
                // ÏÉàÎ°ú Ï¥àÍ∏∞Ìôî
                appState.surveyData = {
                    question1: [], // Í∞ÄÏû• ÎßéÏù¥ ÏÇ¨Ïö©ÌïòÎäî Í≤É 3Í∞ú
                    question2: []  // Í∞ÄÏû• ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäî Í≤É 3Í∞ú
                };
            }
            
            renderSurveyCardsByGroup();
            
            // Ï†ÄÏû•Îêú ÏÑ§Î¨∏ ÏÉÅÌÉúÍ∞Ä ÏûàÏúºÎ©¥ Ïπ¥Îìú ÌëúÏãú Î≥µÏõê
            if (appState.surveyData && (appState.surveyData.question1.length > 0 || appState.surveyData.question2.length > 0)) {
                setTimeout(() => {
                    updateCardDisplay();
                    updateStickyDisplay();
                }, 100);
            }
            
            updateSurveyButtonState();
        }

        function returnToSorting() {
            // ÌòÑÏû¨ ÏÑ§Î¨∏ ÏßÑÌñâ ÏÉÅÌô©ÏùÑ ÏûÑÏãú Ï†ÄÏû•
            if (appState.surveyData) {
                appState.sortingData.tempSurveyData = appState.surveyData;
                autoSave();
            }
            
            // Ïπ¥ÎìúÏÜåÌåÖ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
            showPage('sorting-page');
            renderSortingUI();
            updateProgress();
        }

        function renderSurveyCardsByGroup() {
            const { groups } = appState.sortingData;
            
            // ÏßàÎ¨∏1Ïö© Í∑∏Î£πÎ≥Ñ Ïπ¥Îìú Î†åÎçîÎßÅ
            const q1Container = document.getElementById('q1-groups');
            q1Container.innerHTML = '';
            
            // ÏßàÎ¨∏2Ïö© Í∑∏Î£πÎ≥Ñ Ïπ¥Îìú Î†åÎçîÎßÅ  
            const q2Container = document.getElementById('q2-groups');
            q2Container.innerHTML = '';
            
            // Ïπ¥ÎìúÍ∞Ä ÏûàÎäî Í∑∏Î£πÎì§Îßå ÌëúÏãú (order ÏàúÏÑúÎåÄÎ°ú)
            const sortedGroups = Object.values(groups)
                .filter(group => group.cards.length > 0)
                .sort((a, b) => (a.order || 0) - (b.order || 0));
            
            sortedGroups.forEach(group => {
                // ÏßàÎ¨∏1Ïö© Í∑∏Î£π ÏÑπÏÖò ÏÉùÏÑ±
                const q1GroupSection = createGroupSection(group, 1);
                q1Container.appendChild(q1GroupSection);
                
                // ÏßàÎ¨∏2Ïö© Í∑∏Î£π ÏÑπÏÖò ÏÉùÏÑ±
                const q2GroupSection = createGroupSection(group, 2);
                q2Container.appendChild(q2GroupSection);
            });
            
            // ÎØ∏Î∂ÑÎ•ò Ïπ¥ÎìúÍ∞Ä ÏûàÎã§Î©¥ Ï∂îÍ∞Ä
            if (appState.sortingData.unassignedCards && appState.sortingData.unassignedCards.length > 0) {
                const unassignedGroup = {
                    name: 'ÎØ∏Î∂ÑÎ•ò',
                    cards: appState.sortingData.unassignedCards
                };
                
                const q1UnassignedSection = createGroupSection(unassignedGroup, 1);
                q1Container.appendChild(q1UnassignedSection);
                
                const q2UnassignedSection = createGroupSection(unassignedGroup, 2);
                q2Container.appendChild(q2UnassignedSection);
            }
        }

        function createGroupSection(group, questionNum) {
            const section = document.createElement('div');
            section.className = 'group-section';
            
            const header = document.createElement('div');
            header.className = 'group-section-header';
            header.onclick = () => toggleGroupSection(section);
            
            const title = document.createElement('div');
            title.className = 'group-section-title';
            title.textContent = group.name;
            
            const cardCount = document.createElement('div');
            cardCount.className = 'group-card-count';
            cardCount.textContent = `${group.cards.length}Í∞ú`;
            
            const toggle = document.createElement('div');
            toggle.className = 'group-toggle';
            toggle.textContent = '‚ñº';
            
            header.appendChild(title);
            header.appendChild(cardCount);
            header.appendChild(toggle);
            
            const cardsContainer = document.createElement('div');
            cardsContainer.className = 'group-cards expanded'; // Í∏∞Î≥∏Ï†ÅÏúºÎ°ú ÌéºÏ≥êÏßÑ ÏÉÅÌÉú
            
            group.cards.forEach(card => {
                const cardElement = createSelectableCard(card, questionNum);
                cardsContainer.appendChild(cardElement);
            });
            
            section.appendChild(header);
            section.appendChild(cardsContainer);
            
            return section;
        }

        function toggleGroupSection(section) {
            const cardsContainer = section.querySelector('.group-cards');
            const toggle = section.querySelector('.group-toggle');
            
            if (cardsContainer.classList.contains('expanded')) {
                cardsContainer.classList.remove('expanded');
                toggle.classList.add('collapsed');
                toggle.textContent = '‚ñ∂';
            } else {
                cardsContainer.classList.add('expanded');
                toggle.classList.remove('collapsed');
                toggle.textContent = '‚ñº';
            }
        }

        function createSelectableCard(card, questionNum) {
            const cardDiv = document.createElement('div');
            cardDiv.className = 'selectable-card';
            cardDiv.textContent = card.content;
            cardDiv.dataset.cardId = card.id;
            cardDiv.dataset.question = questionNum;
            
            cardDiv.addEventListener('click', () => selectCard(card, questionNum));
            
            return cardDiv;
        }

        function selectCard(card, questionNum) {
            const questionKey = `question${questionNum}`;
            const otherQuestionKey = questionNum === 1 ? 'question2' : 'question1';
            const selectedCards = appState.surveyData[questionKey];
            const otherSelectedCards = appState.surveyData[otherQuestionKey];
            
            // Îã§Î•∏ ÏßàÎ¨∏ÏóêÏÑú Ïù¥ÎØ∏ ÏÑ†ÌÉùÎêú Ïπ¥ÎìúÏù∏ÏßÄ ÌôïÏù∏
            const isSelectedInOther = otherSelectedCards.some(c => c.id === card.id);
            if (isSelectedInOther) {
                showNotification('Ïù¥ÎØ∏ Îã§Î•∏ ÏßàÎ¨∏ÏóêÏÑú ÏÑ†ÌÉùÎêú Ïπ¥ÎìúÏûÖÎãàÎã§.', 'warning');
                return;
            }
            
            // ÌòÑÏû¨ ÏßàÎ¨∏ÏóêÏÑú Ïù¥ÎØ∏ ÏÑ†ÌÉùÎêú Ïπ¥ÎìúÏù∏ÏßÄ ÌôïÏù∏
            const existingIndex = selectedCards.findIndex(c => c.id === card.id);
            
            if (existingIndex !== -1) {
                // Ïù¥ÎØ∏ ÏÑ†ÌÉùÎêú Ïπ¥ÎìúÎ©¥ ÏÑ†ÌÉù Ìï¥Ï†ú
                selectedCards.splice(existingIndex, 1);
            } else {
                // ÏÉàÎ°ú ÏÑ†ÌÉùÌïòÎäî Ïπ¥Îìú
                if (selectedCards.length >= 3) {
                    showNotification('ÏµúÎåÄ 3Í∞úÍπåÏßÄÎßå ÏÑ†ÌÉùÌï† Ïàò ÏûàÏäµÎãàÎã§.', 'warning');
                    return;
                }
                selectedCards.push(card);
            }
            
            // Ïπ¥Îìú ÌëúÏãú ÏóÖÎç∞Ïù¥Ìä∏
            updateCardDisplay();
            updateStickyDisplay();
            updateSurveyButtonState();
        }

        function updateCardDisplay() {
            // ÏßàÎ¨∏1 Ïπ¥Îìú ÌëúÏãú ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelectorAll('[data-question="1"]').forEach(cardElement => {
                const cardId = cardElement.dataset.cardId;
                const selectedIndex = appState.surveyData.question1.findIndex(c => c.id === cardId);
                
                cardElement.className = 'selectable-card';
                cardElement.querySelector('.card-number')?.remove();
                
                if (selectedIndex !== -1) {
                    cardElement.classList.add('selected-q1');
                    const numberDiv = document.createElement('div');
                    numberDiv.className = 'card-number q1';
                    numberDiv.textContent = selectedIndex + 1;
                    cardElement.appendChild(numberDiv);
                }
            });
            
            // ÏßàÎ¨∏2 Ïπ¥Îìú ÌëúÏãú ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelectorAll('[data-question="2"]').forEach(cardElement => {
                const cardId = cardElement.dataset.cardId;
                const selectedIndex = appState.surveyData.question2.findIndex(c => c.id === cardId);
                
                cardElement.className = 'selectable-card';
                cardElement.querySelector('.card-number')?.remove();
                
                if (selectedIndex !== -1) {
                    cardElement.classList.add('selected-q2');
                    const numberDiv = document.createElement('div');
                    numberDiv.className = 'card-number q2';
                    numberDiv.textContent = selectedIndex + 1;
                    cardElement.appendChild(numberDiv);
                }
            });
        }

        // ÏàòÏ†ïÏÇ¨Ìï≠ 7: ÏÉÅÎã® Í≥†Ï†ï ÏÑ†ÌÉù ÌòÑÌô© ÏóÖÎç∞Ïù¥Ìä∏
        function updateStickyDisplay() {
            // ÏßàÎ¨∏1 ÏÑ†ÌÉù ÌòÑÌô©
            const q1List = document.getElementById('q1-selected-list');
            const q1Count = document.getElementById('q1-count');
            q1List.innerHTML = '';
            q1Count.textContent = appState.surveyData.question1.length;
            
            appState.surveyData.question1.forEach((card, index) => {
                const item = document.createElement('div');
                item.className = 'selected-item';
                item.innerHTML = `
                    <div class="selected-rank">${index + 1}</div>
                    <span>${card.content}</span>
                `;
                q1List.appendChild(item);
            });
            
            // ÏßàÎ¨∏2 ÏÑ†ÌÉù ÌòÑÌô©
            const q2List = document.getElementById('q2-selected-list');
            const q2Count = document.getElementById('q2-count');
            q2List.innerHTML = '';
            q2Count.textContent = appState.surveyData.question2.length;
            
            appState.surveyData.question2.forEach((card, index) => {
                const item = document.createElement('div');
                item.className = 'selected-item';
                item.innerHTML = `
                    <div class="selected-rank">${index + 1}</div>
                    <span>${card.content}</span>
                `;
                q2List.appendChild(item);
            });
        }

        function updateSurveyButtonState() {
            const submitBtn = document.getElementById('survey-submit-btn');
            const q1Complete = appState.surveyData.question1.length === 3;
            const q2Complete = appState.surveyData.question2.length === 3;
            
            submitBtn.disabled = !(q1Complete && q2Complete);
        }

        /**
         * ÏàòÏ†ïÏÇ¨Ìï≠ 8: ÏÑ§Î¨∏ Ï†úÏ∂úÏãú validation Ï∂îÍ∞Ä
         */
        async function submitSurvey() {
            if (!appState.sortingData || !appState.surveyData) return;
            
            // ÏàòÏ†ïÏÇ¨Ìï≠ 8: ÎØ∏ÏôÑÏÑ± ÏùëÎãµ Ï≤¥ÌÅ¨
            const q1Complete = appState.surveyData.question1.length === 3;
            const q2Complete = appState.surveyData.question2.length === 3;
            
            if (!q1Complete || !q2Complete) {
                showNotification('ÏïÑÏßÅ Î™®Îëê ÏùëÎãµÌïòÏßÄ ÏïäÏïòÏñ¥Ïöî! Í∞Å ÏßàÎ¨∏ÎßàÎã§ 3Í∞úÏî© ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.', 'warning');
                return;
            }
            
            // ÏÑ§Î¨∏ Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•
            appState.sortingData.surveyData = appState.surveyData;
            
            // ÏûÑÏãú ÏÑ§Î¨∏ Îç∞Ïù¥ÌÑ∞ Ï†ïÎ¶¨
            delete appState.sortingData.tempSurveyData;
            
            // ÏûÑÏãú Ï†ÄÏû•
            autoSave();
            
            // ÏùòÍ≤¨ ÏàòÏßë ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
            showFeedbackPage();
        }

        // ============================================
        // ÏàòÏ†ïÏÇ¨Ìï≠ 9&10: Í∞úÏÑ†Îêú ÏùòÍ≤¨ ÏàòÏßë ÌéòÏù¥ÏßÄ Ìï®ÏàòÎì§
        // ============================================

        function showFeedbackPage() {
            showPage('feedback-page');
            
            // Í∑∏Î£®Ìïë Í≤∞Í≥º ÌëúÏãú
            displaySortingResults();
            
            // ÏûÑÏãú Ï†ÄÏû•Îêú ÏùòÍ≤¨Ïù¥ ÏûàÏúºÎ©¥ Î≥µÏõê
            if (appState.sortingData.tempFeedback) {
                document.getElementById('participant-feedback').value = appState.sortingData.tempFeedback;
                updateCharCount();
                updatePlaceholder();
            }
        }

        function displaySortingResults() {
            const container = document.getElementById('sorting-result-display');
            const { groups } = appState.sortingData;
            container.innerHTML = '';
            
            // Í∑∏Î£πÏùÑ order ÏàúÏÑúÎåÄÎ°ú Ï†ïÎ†¨ÌïòÏó¨ ÌëúÏãú
            const sortedGroups = Object.values(groups)
                .filter(group => group.cards.length > 0)
                .sort((a, b) => (a.order || 0) - (b.order || 0));
            
            sortedGroups.forEach((group, index) => {
                const resultGroup = document.createElement('div');
                resultGroup.className = 'result-group';
                
                const header = document.createElement('div');
                header.className = 'result-group-header';
                const rankIcon = ['ü•á', 'ü•à', 'ü•â'][index] || 'üèÖ';
                header.textContent = `${rankIcon} ${index + 1}ÏàúÏúÑ: ${group.name} (${group.cards.length}Í∞ú)`;
                
                const cardsContainer = document.createElement('div');
                cardsContainer.className = 'result-group-cards';
                
                group.cards.forEach(card => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'result-card';
                    cardElement.textContent = card.content;
                    cardsContainer.appendChild(cardElement);
                });
                
                resultGroup.appendChild(header);
                resultGroup.appendChild(cardsContainer);
                container.appendChild(resultGroup);
            });
            
            // ÎØ∏Î∂ÑÎ•ò Ïπ¥ÎìúÍ∞Ä ÏûàÎã§Î©¥ Ï∂îÍ∞Ä
            if (appState.sortingData.unassignedCards && appState.sortingData.unassignedCards.length > 0) {
                const unassignedGroup = document.createElement('div');
                unassignedGroup.className = 'result-group';
                
                const header = document.createElement('div');
                header.className = 'result-group-header';
                header.style.background = '#6c757d';
                header.textContent = `ÎØ∏Î∂ÑÎ•ò (${appState.sortingData.unassignedCards.length}Í∞ú)`;
                
                const cardsContainer = document.createElement('div');
                cardsContainer.className = 'result-group-cards';
                
                appState.sortingData.unassignedCards.forEach(card => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'result-card';
                    cardElement.style.borderColor = '#6c757d';
                    cardElement.textContent = card.content;
                    cardsContainer.appendChild(cardElement);
                });
                
                unassignedGroup.appendChild(header);
                unassignedGroup.appendChild(cardsContainer);
                container.appendChild(unassignedGroup);
            }
        }

        // ÏàòÏ†ïÏÇ¨Ìï≠ 9: ÌäπÎ≥ÑÌïú placeholder Ï≤òÎ¶¨
        function updatePlaceholder() {
            const textarea = document.getElementById('participant-feedback');
            const placeholder = document.getElementById('feedback-placeholder');
            const userText = textarea.value;
            
            if (userText.trim() === '') {
                placeholder.style.display = 'block';
            } else {
                // ÏÇ¨Ïö©Ïûê ÏûÖÎ†•Ïóê Îî∞Îùº placeholder ÎùºÏù∏Î≥ÑÎ°ú Ïà®Í∏∞Í∏∞
                const lines = userText.split('\n');
                const placeholderLines = placeholder.textContent.split('\n');
                
                let visiblePlaceholder = '';
                for (let i = 0; i < placeholderLines.length; i++) {
                    if (i >= lines.length || lines[i].trim() === '') {
                        visiblePlaceholder += (i > 0 ? '\n' : '') + placeholderLines[i];
                    } else {
                        visiblePlaceholder += (i > 0 ? '\n' : '') + '';
                    }
                }
                
                placeholder.textContent = visiblePlaceholder;
                placeholder.style.display = visiblePlaceholder.trim() ? 'block' : 'none';
            }
        }

        function updateCharCount() {
            const textarea = document.getElementById('participant-feedback');
            const counter = document.getElementById('char-counter');
            const currentLength = textarea.value.length;
            const maxLength = 2000;
            
            counter.textContent = `${currentLength} / ${maxLength}Ïûê`;
            
            // Í∏ÄÏûêÏàòÏóê Îî∞Î•∏ ÏÉâÏÉÅ Î≥ÄÍ≤Ω
            if (currentLength > maxLength * 0.9) {
                counter.className = 'char-counter danger';
            } else if (currentLength > maxLength * 0.7) {
                counter.className = 'char-counter warning';
            } else {
                counter.className = 'char-counter';
            }
        }

        function returnToSurvey() {
            // ÌòÑÏû¨ ÏûÖÎ†•Îêú ÏùòÍ≤¨ ÏûÑÏãú Ï†ÄÏû• (ÎîîÌè¥Ìä∏ ÌÖçÏä§Ìä∏ Ï†úÏô∏)
            const feedback = document.getElementById('participant-feedback').value.trim();
            if (feedback) {
                appState.sortingData.tempFeedback = feedback;
                autoSave();
            }
            
            showSurveyPage();
        }

        async function submitFeedback() {
            if (!appState.sortingData || !appState.surveyData) return;
            
            try {
                // ÏùòÍ≤¨ ÏàòÏßë (ÎîîÌè¥Ìä∏ ÌÖçÏä§Ìä∏Îäî Ï†úÏô∏)
                const rawFeedback = document.getElementById('participant-feedback').value;
                const feedback = rawFeedback.trim();
                
                // ÏôÑÎ£å Ï≤òÎ¶¨
                appState.sortingData.isCompleted = true;
                appState.sortingData.completedTime = new Date().toISOString();
                appState.sortingData.duration = Math.floor((new Date() - appState.startTime) / 1000);
                appState.sortingData.surveyData = appState.surveyData;
                appState.sortingData.participantFeedback = feedback;
                
                // ÏûÑÏãú Îç∞Ïù¥ÌÑ∞ Ï†ïÎ¶¨
                delete appState.sortingData.tempSurveyData;
                delete appState.sortingData.tempFeedback;
                
                // Î°úÏª¨ Ï†ÄÏû•
                saveToStorage(`participant_${appState.sortingData.participantId}`, appState.sortingData);
                
                // Google Sheets Ï†ÄÏû• ÏãúÎèÑ
                try {
                    await saveToGoogleSheets(appState.sortingData, appState.currentProject);
                } catch (error) {
                    console.warn('Google Sheets Ï†ÄÏû• Ïã§Ìå®, Î°úÏª¨ Ï†ÄÏû•ÏùÄ ÏôÑÎ£åÎê®:', error);
                    showNotification('‚ö†Ô∏è Google Sheets Ï†ÄÏû• Ïã§Ìå®. Î°úÏª¨ Ï†ÄÏû•ÏùÄ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.', 'warning');
                }
                
                showCompletionPage();
                
            } catch (error) {
                console.error('Ï†úÏ∂ú Ï§ë Ïò§Î•ò:', error);
                showNotification('Ï†úÏ∂ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.', 'error');
            }
        }

        function showCompletionPage() {
            showPage('completion-page');
        }

        // ============================================
        // Îç∞Ïù¥ÌÑ∞ Ìè¨Îß∑ÌåÖ Î∞è ÎÇ¥Î≥¥ÎÇ¥Í∏∞ Ìï®ÏàòÎì§
        // ============================================

        function formatResponseForExport(responseData, projectConfig) {
            const groupResults = {};
            const cardDistribution = {};
            const groupOrder = [];
            
            // Í∑∏Î£πÏùÑ order ÏàúÏÑúÎåÄÎ°ú Ï†ïÎ†¨ÌïòÏó¨ Ï≤òÎ¶¨
            const sortedGroups = Object.values(responseData.groups || {}).sort((a, b) => (a.order || 0) - (b.order || 0));
            
            sortedGroups.forEach(group => {
                if (group.cards.length > 0) {
                    groupResults[group.name] = group.cards.map(card => card.content);
                    groupOrder.push(group.name);
                    group.cards.forEach(card => {
                        cardDistribution[card.content] = group.name;
                    });
                }
            });
            
            if (responseData.unassignedCards && responseData.unassignedCards.length > 0) {
                groupResults['ÎØ∏Î∂ÑÎ•ò'] = responseData.unassignedCards.map(card => card.content);
                responseData.unassignedCards.forEach(card => {
                    cardDistribution[card.content] = 'ÎØ∏Î∂ÑÎ•ò';
                });
            }
            
            // Ïª§Ïä§ÌÖÄ Í∑∏Î£π Í∞úÏàò Í≥ÑÏÇ∞
            const customGroupsCount = Object.values(responseData.groups || {}).filter(g => g.isCustom && g.cards.length > 0).length;
            
            // ÏÇ¨Ïö©Îêú Í∑∏Î£π Í∞úÏàò Í≥ÑÏÇ∞
            const usedGroupsCount = Object.keys(groupResults).length;
            
            // ÏàòÏ†ïÎêú Í∑∏Î£πÎ™Ö Í∞úÏàò Í≥ÑÏÇ∞
            const modifiedGroupNamesCount = responseData.modifiedGroupNames ? responseData.modifiedGroupNames.length : 0;
            
            // ÏÑ§Î¨∏ ÏùëÎãµ Ï†ïÎ¶¨
            const surveyResults = responseData.surveyData ? {
                mostUsed: responseData.surveyData.question1.map((card, index) => ({
                    rank: index + 1,
                    card: card.content,
                    group: cardDistribution[card.content] || 'ÎØ∏Î∂ÑÎ•ò'
                })),
                leastUsed: responseData.surveyData.question2.map((card, index) => ({
                    rank: index + 1,
                    card: card.content,
                    group: cardDistribution[card.content] || 'ÎØ∏Î∂ÑÎ•ò'
                }))
            } : null;
            
            return {
                // Google Sheets Ïª¨ÎüºÏóê ÎßûÎäî Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞
                Ïù¥Î¶Ñ: responseData.name || 'Ïïå Ïàò ÏóÜÏùå',
                Ìú¥ÎåÄÌè∞Îí∑Î≤àÌò∏4ÏûêÎ¶¨: responseData.phone || '',
                ÏãúÏûëÏãúÍ∞Ñ: responseData.startTime,
                ÏôÑÎ£åÏãúÍ∞Ñ: responseData.completedTime,
                ÏÜåÏöîÏãúÍ∞Ñ: Math.round(responseData.duration / 60) + 'Î∂Ñ',
                ÏÜåÌåÖÎ∞©Ïãù: responseData.sortingType,
                Ï∞∏Ïó¨ÏûêÍ∞ÄÏ∂îÍ∞ÄÌïúÍ∑∏Î£πÏàò: customGroupsCount,
                Ï∞∏Ïó¨ÏûêÍ∞ÄÎ∂ÑÎ•òÌïúÍ∑∏Î£πÏàò: usedGroupsCount,
                Ï∞∏Ïó¨ÏûêÍ∞ÄÎ≥ÄÍ≤ΩÌïúÍ∑∏Î£πÎ™ÖÏùòÏàò: modifiedGroupNamesCount,
                Í∑∏Î£πÎ≥ÑÍ≤∞Í≥º: JSON.stringify(groupResults),
                Í∑∏Î£πÏàúÏÑú: groupOrder.join(' > '),
                Í∞ÄÏû•ÎßéÏù¥ÏÇ¨Ïö©ÌïòÎäîÌòúÌÉù: responseData.surveyData ? responseData.surveyData.question1.map(c => c.content).join(', ') : '',
                Í∞ÄÏû•Ï†ÅÍ≤åÏÇ¨Ïö©ÌïòÎäîÌòúÌÉù: responseData.surveyData ? responseData.surveyData.question2.map(c => c.content).join(', ') : '',
                Ï∞∏Ïó¨ÏûêÏùòÍ≤¨: responseData.participantFeedback || '',
                
                // Ï∂îÍ∞Ä ÏÉÅÏÑ∏ Îç∞Ïù¥ÌÑ∞ (Î∂ÑÏÑùÏö©)
                participantInfo: {
                    name: responseData.name || 'Ïïå Ïàò ÏóÜÏùå',
                    phone: responseData.phone || '',
                    participantId: responseData.participantId
                },
                timeInfo: {
                    startTime: responseData.startTime,
                    completedTime: responseData.completedTime,
                    lastSaveTime: responseData.lastSaveTime,
                    durationSeconds: responseData.duration,
                    durationMinutes: Math.round(responseData.duration / 60)
                },
                sortingResults: {
                    sortingType: responseData.sortingType,
                    totalCards: projectConfig.cards.length,
                    assignedCards: projectConfig.cards.length - (responseData.unassignedCards?.length || 0),
                    totalGroups: Object.keys(groupResults).length,
                    customGroupsCreated: customGroupsCount,
                    groupResults: groupResults,
                    groupOrder: groupOrder,
                    cardDistribution: cardDistribution,
                    modifiedGroupNames: responseData.modifiedGroupNames || []
                },
                surveyResults: surveyResults,
                participantFeedback: responseData.participantFeedback || '',
                customGroups: Object.values(responseData.groups || {}).filter(g => g.isCustom && g.cards.length > 0).map(group => ({
                    name: group.name,
                    cardCount: group.cards.length,
                    cards: group.cards.map(card => card.content),
                    order: group.order || 0
                })),
                projectInfo: {
                    projectId: projectConfig.id,
                    projectTitle: projectConfig.title,
                    totalAvailableCards: projectConfig.cards.length,
                    predefinedGroups: projectConfig.predefinedGroups || [],
                    sortingType: projectConfig.sortingType
                },
                technicalInfo: {
                    isCompleted: responseData.isCompleted || false,
                    dataVersion: '4.0',
                    exportedAt: new Date().toISOString()
                }
            };
        }

        function downloadJSON(data, filename) {
            const jsonString = JSON.stringify(data, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            link.style.display = 'none';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            URL.revokeObjectURL(url);
        }

        // ============================================
        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Î∞è Ï¥àÍ∏∞Ìôî
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('sorting-type').addEventListener('change', updateSortingTypeVisibility);
            document.getElementById('card-list').addEventListener('input', updateCardCount);
            
            document.getElementById('new-card').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addNewCard();
                }
            });
            
            document.getElementById('new-group-name').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    confirmCreateGroup();
                }
            });
            
            // Ìú¥ÎåÄÌè∞ Î≤àÌò∏ ÏûÖÎ†• Ï†úÌïú
            document.getElementById('participant-phone').addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
            });
            
            // Ïù¥Î¶Ñ ÏûÖÎ†• Ï†úÌïú (IME Ìò∏ÌôòÏÑ± Í∞úÏÑ†)
            const nameInput = document.getElementById('participant-name');
            let nameInputTimer;
            
            nameInput.addEventListener('input', function(e) {
                // ÎîîÎ∞îÏö¥Ïã±ÏúºÎ°ú IME ÏûÖÎ†• ÏôÑÎ£å ÌõÑ ÌïÑÌÑ∞ÎßÅ
                clearTimeout(nameInputTimer);
                nameInputTimer = setTimeout(() => {
                    const value = e.target.value;
                    const filteredValue = value.replace(/[^Í∞Ä-Ìû£\s]/g, '');
                    if (value !== filteredValue) {
                        e.target.value = filteredValue;
                    }
                }, 100);
            });
            
            // compositionend Ïù¥Î≤§Ìä∏Î°ú ÌïúÍ∏Ä ÏûÖÎ†• ÏôÑÎ£åÏãúÏóêÎßå ÌïÑÌÑ∞ÎßÅ
            nameInput.addEventListener('compositionend', function(e) {
                e.target.value = e.target.value.replace(/[^Í∞Ä-Ìû£\s]/g, '');
            });
            
            // ÏùòÍ≤¨ ÏàòÏßë textarea Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà
            const feedbackTextarea = document.getElementById('participant-feedback');
            if (feedbackTextarea) {
                feedbackTextarea.addEventListener('input', function() {
                    updateCharCount();
                    updatePlaceholder();
                });
                
                // ÏµúÎåÄ Í∏ÄÏûêÏàò Ï†úÌïú
                feedbackTextarea.addEventListener('paste', function(e) {
                    setTimeout(() => {
                        const maxLength = 2000;
                        if (e.target.value.length > maxLength) {
                            e.target.value = e.target.value.substring(0, maxLength);
                            updateCharCount();
                            updatePlaceholder();
                            showNotification('ÏµúÎåÄ 2000ÏûêÍπåÏßÄ ÏûÖÎ†•Ìï† Ïàò ÏûàÏäµÎãàÎã§.', 'warning');
                        }
                    }, 0);
                });
            }
            
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('show');
                    }
                });
            });
            
            // URL ÌååÎùºÎØ∏ÌÑ∞Ïóê Îî∞Î•∏ ÌéòÏù¥ÏßÄ ÌëúÏãú
            function handleURLParams() {
                const urlParams = new URLSearchParams(window.location.search);
                const mode = urlParams.get('mode');
                
                switch (mode) {
                    case 'admin':
                        showAdminLogin();
                        break;
                    case 'participant':
                        showWelcomePage();
                        break;
                    default:
                        // Í∏∞Î≥∏Í∞í: ÌååÎùºÎØ∏ÌÑ∞Í∞Ä ÏóÜÏúºÎ©¥ Ï∞∏Ïó¨Ïûê Î™®Îìú
                        showWelcomePage();
                        break;
                }
            }
            
            // ÌéòÏù¥ÏßÄ Î°úÎìúÏãú URL ÌååÎùºÎØ∏ÌÑ∞ Ï≤òÎ¶¨
            handleURLParams();
            
            // Îí§Î°úÍ∞ÄÍ∏∞/ÏïûÏúºÎ°úÍ∞ÄÍ∏∞ Î≤ÑÌäº Ï≤òÎ¶¨
            window.addEventListener('popstate', handleURLParams);
            
            window.addEventListener('beforeunload', function(e) {
                if (appState.sortingData && !appState.sortingData.isCompleted) {
                    e.preventDefault();
                    e.returnValue = 'ÏßÑÌñâ Ï§ëÏù∏ Ïπ¥ÎìúÏÜåÌåÖÏù¥ ÏûàÏäµÎãàÎã§. Ï†ïÎßê ÌéòÏù¥ÏßÄÎ•º Îñ†ÎÇòÏãúÍ≤†ÏäµÎãàÍπå?';
                }
            });
            
            // CSS Grid Ìè¥Î∞± (IE11 ÏßÄÏõê)
            if (!CSS.supports('display', 'grid')) {
                document.querySelectorAll('.admin-grid, .groups-container, .stats-grid').forEach(el => {
                    el.style.display = 'block';
                });
                
                document.querySelectorAll('.admin-section, .group-container, .stat-card').forEach(el => {
                    el.style.display = 'inline-block';
                    el.style.width = '48%';
                    el.style.marginRight = '2%';
                    el.style.verticalAlign = 'top';
                });
            }
            
            updateSortingTypeVisibility();
            updateCardCount();

            console.log('‚úÖ Î°ØÎç∞ÌôàÏáºÌïë ÌòúÌÉù Îß§Ïû• Ïπ¥Îìú Î∂ÑÎ•òÌïòÍ∏∞ Ìà¥Ïù¥ Ï§ÄÎπÑÎêòÏóàÏäµÎãàÎã§.');
            console.log('üì± Ìï¥ÏÉÅÎèÑ ÏµúÏ†ÅÌôî: 1920√ó1080 Í∏∞Ï§Ä, Í≥†Ìï¥ÏÉÅÎèÑ/Ï†ÄÌï¥ÏÉÅÎèÑ ÎåÄÏùë ÏôÑÎ£å');
            console.log('üåê Cross-browser Ìò∏ÌôòÏÑ±: Chrome, Firefox, Safari, Edge, IE11+ ÏßÄÏõê');
            console.log('üéØ ÏÉàÎ°úÏö¥ Í∏∞Îä•: Í∑∏Î£π ÏàúÏÑú Î≥ÄÍ≤Ω, ÏùòÍ≤¨ ÏàòÏßë, Ìñ•ÏÉÅÎêú UI');
            console.log('‚ú® UX ÏôÑÏ†Ñ Í∞úÏÑ†: ÏßÅÍ¥ÄÏ†ÅÏù∏ Ï∞∏Ïó¨Ïûê Í≤ΩÌóò, ÌäúÌÜ†Î¶¨Ïñº, Í∞úÏÑ†Îêú ÏÑ§Î¨∏');
        });
    </script>
</body>
</html>
